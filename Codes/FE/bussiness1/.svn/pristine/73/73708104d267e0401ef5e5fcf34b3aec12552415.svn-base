window.__require=function e(t,i,n){function o(c,a){if(!i[c]){if(!t[c]){var r=c.split("/");if(r=r[r.length-1],!t[r]){var l="function"==typeof __require&&__require;if(!a&&l)return l(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+c+"'")}}var d=i[c]={exports:{}};t[c][0].call(d.exports,function(e){return o(t[c][1][e]||e)},d,d.exports,e,t,i,n)}return i[c].exports}for(var s="function"==typeof __require&&__require,c=0;c<n.length;c++)o(n[c]);return o}({Bullet:[function(e,t,i){"use strict";cc._RF.push(t,"7686fUAo81OcZA3nS0sEje3","Bullet"),cc.Class({extends:cc.Component,properties:{artilleryAudio:{default:null,type:cc.AudioClip}},onLoad:function(){},start:function(){this.node.on("showResult",this.showResult,this),cc.audioEngine.playEffect(this.artilleryAudio,!1)},onBeginContact:function(e,t,i){if(t.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,0),t.enabled=!1,99==i.tag)return this.node.destroy()},animFinished:function(e,t){this.node.destroy()},showResult:function(e){var t=this.node.getComponent(cc.Animation);t.play("Fishnet"),e.score&&(this.node.getChildByName("Score").getComponent(cc.Label).string=e.score,this.node.getComponent(cc.Animation).playAdditive("FishnetScore")),t.on("finished",function(t,i){e.score&&"FishnetScore"!=i.name||this.node.destroy()},this)}}),cc._RF.pop()},{}],Business:[function(e,t,i){"use strict";cc._RF.push(t,"291d5mua6pOxInnm19QS5pu","Business");var n=e("Config"),o=e("Request");(function(){var e=location.search,t=new Object;if(-1!=e.indexOf("?"))for(var i=e.substr(1).split("&"),n=0;n<i.length;n++)t[i[n].split("=")[0]]=unescape(i[n].split("=")[1]);window.userData=t})(),t.exports={getPrizeSettings:function(e,t){if(0==Object.keys(window.userData).length)return t(new Error("\u53c2\u6570\u9519\u8bef"));o.get({url:n.apiHost+"activity/plugin/prize?relationId="+window.userData.relationId+"&controlId="+window.userData.controlId+"&session_id="+window.userData.sessionId},function(e){return e instanceof Error||0!=e.status?t(new Error("\u8bf7\u6c42\u5931\u8d25")):0==e.data.length?t(new Error("\u83b7\u53d6\u5956\u54c1\u8bbe\u7f6e\u4fe1\u606f\u5931\u8d25")):void t(null,{actStartDate:e.data.setting.actStartTime,actEndDate:e.data.setting.actEndTime,drawTotal:e.data.setting.drawTime,drawCount:e.data.setting.userDrawTime,status:e.data.setting.status,prizeList:e.data.prizes})})},getGameSettings:function(e,t){if(0==Object.keys(window.userData).length)return t(new Error("\u53c2\u6570\u9519\u8bef"));o.get({url:n.apiHost+"activity/plugin/game?relationId="+window.userData.relationId+"&controlId="+window.userData.controlId},function(e){return e instanceof Error||0!=e.status?t(new Error("\u8bf7\u6c42\u5931\u8d25")):0==e.data.length?t(new Error("\u83b7\u53d6\u6e38\u620f\u8bbe\u7f6e\u4fe1\u606f\u5931\u8d25")):void t(null,{actStartDate:e.data.setting.actStartTime,actEndDate:e.data.setting.actEndTime,drawTotal:e.data.setting.drawTime,drawCount:e.data.setting.userDrawTime,status:e.data.setting.status,prizeList:e.data.prizes})})},drawPrize:function(e,t){o.post({url:n.apiHost+"activity/plugin/drawprize?session_id="+window.userData.sessionId,data:{relationId:window.userData.relationId,controlId:window.userData.controlId,isWeapp:window.data.isWeapp||!1}},function(e){var i={},n=void 0;if(e instanceof Error)n=new Error("\u64cd\u4f5c\u5f02\u5e38");else switch(e.data.code){case 0:case 2:case 3:case 7:n=new Error("\u6d3b\u52a8\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\u3002"),console.log("\u6d3b\u52a8\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\u3002 Code: "+e.data.code);break;case 1:n=new Error("\u6b63\u5728\u53c2\u4e0e\u62bd\u5956\uff0c\u8bf7\u52ff\u53cd\u590d\u6267\u884c");break;case 5:n=new Error("\u60a8\u7684\u62bd\u5956\u6b21\u6570\u5df2\u7ecf\u7528\u5b8c\u4e86");break;case 10:n=new Error("\u6d3b\u52a8\u5c1a\u672a\u5f00\u59cb\uff0c\u8bf7\u7a0d\u540e\u518d\u6765");break;case 4:i={status:!1};break;case 6:n=new Error("\u60a8\u7684\u4e2d\u5956\u6b21\u6570\u5df2\u7ecf\u7528\u5b8c\u4e86");break;case 8:case 9:i={status:!1};break;case 200:i={status:!0,level:"\u4e00\u7b49\u5956",name:"Apple iPhone X 256GB \u9ed1\u8272\u4e00\u90e8"}}i.data=Object.assign(e.data,{relationId:window.userData.relationId,controlId:window.userData.controlId}),t(n,i)})},userBehaviorBuryingPoint:function(e,t){var i={url:n.apiHost+"user/behavior/burying/point?session_id="+window.userData.sessionId,data:{manuscriptId:window.userData.relationId,type:e.type,targetUser:window.data.shareId,comment:e.comment,action:e.action}};o.post(i,function(e){t(null,e)})},getLayerResultPrefab:function(e,t){var i=void 0;switch(e){case"red":i="LayerResult_Red"}cc.loader.loadRes("LayerResult/Themes/"+i,function(e,i){e||i instanceof cc.Prefab||(e=new Error("\u4e3b\u9898\u9884\u5236\u4ef6\u4e0d\u5b58\u5728")),t(e,i)})},listenMessage:function(e){window.addEventListener("message",function(t){var i=t.data;return!i||"string"==typeof t.data&&JSON.parse(i),"game_init"===i.type?(window.data=i,"function"==typeof e.init?e.init(i):void 0):"game_restart"===i.type&&"function"==typeof e.restart?e.restart(i):"game_reset"!==i.type||"function"!=typeof e.reset||e.reset(i)},!1)},listenMessageAndResponse:function(e){this.listenMessage(e),this.postMessage({type:"init_over"})},getQueryFromUrl:function(){var e=location.search,t=new Object;if(-1!=e.indexOf("?"))for(var i=e.substr(1).split("&"),n=0;n<i.length;n++)t[i[n].split("=")[0]]=unescape(i[n].split("=")[1]);return t},postMessage:function(e){console.log("game-post-message:",e),e=e||{},window.parent&&window.parent.postMessage(e,"*")},exceptionMessage:function(e,t){this.postMessage({type:e,prize:{code:t||5,relationId:window.userData.relationId,controlId:window.userData.controlId}})},getUserInfo:function(e){e(window.userData)}},cc._RF.pop()},{Config:"Config",Request:"Request"}],Config:[function(e,t,i){"use strict";cc._RF.push(t,"a2ad417OjhCBKQbv8jDk+6L","Config");var n={apiHost:"http://api.kma.biaoxiaoxu.cn/"};window&&window.config&&(n=window.config),t.exports=n,cc._RF.pop()},{}],CustomerAction:[function(e,t,i){"use strict";cc._RF.push(t,"00883hLvHVD3IutRVWZ/1LY","CustomerAction"),cc.MoveOvalBy=cc.Class({name:"cc.MoveOvalBy ",extends:cc.ActionInterval,ctor:function(e,t){void 0!==t&&cc.MoveOvalBy.prototype.initWithDuration.call(this,e,t)},initWithDuration:function(e,t){var i=!1;return cc.ActionInterval.prototype.initWithDuration.call(this,e)&&(this._config=t,i=!0),i},clone:function(){var e=new cc.MoveOvalBy;return this._cloneDecoration(e),e.initWithDuration(this._duration,this._config),e},startWithTarget:function(e){e.zIndex=0,cc.ActionInterval.prototype.startWithTarget.call(this,e)},getPositionXAtOval:function(e){return 0==this._config.moveInAnticlockwise?this._config.a*Math.cos(6.2831852*(1-e)):this._config.a*Math.cos(6.2831852*e)},getPositionYAtOval:function(e){return 0==this._config.moveInAnticlockwise?this._config.b*Math.sin(6.2831852*(1-e)):this._config.b*Math.sin(6.2831852*e)}}),cc.createMoveOval=function(e,t){var i=new cc.MoveOvalBy(e,t);return i.update=function(e){if(this._config.dt&&(e+=this._config.dt),e=this._computeEaseTime(e),this.target){var i=this._config.centerPosition.x+this.getPositionXAtOval(e),n=this._config.centerPosition.y+this.getPositionYAtOval(e);this.target.setPosition(cc.v2(i,n)),this.target.zIndex=n<0?this._config.zOrder[0]:this._config.zOrder[1],t.scale||(t.scale=.8),t.change||(t.change=1.5),this.target.scale=t.scale-t.change*Math.floor(n/this._config.b*100)/1e3}},i},cc._RF.pop()},{}],EggsContainerForce:[function(e,t,i){"use strict";cc._RF.push(t,"e315cJv83NI2YLnVIiWJ2/0","EggsContainerForce"),cc.Class({extends:cc.Component,properties:{},start:function(){},onBeginContact:function(e,t,i){var n=Math.random()>.5?1:-1;i.body.linearVelocity=cc.v2(100*Math.random()*n,2800)}}),cc._RF.pop()},{}],Element:[function(e,t,i){"use strict";cc._RF.push(t,"387fedRB+1AfKREssWQAbuT","Element"),cc.Class({extends:cc.Component,properties:{game:{default:null,type:cc.Node},maskNum:{default:0,type:cc.Integer},objectType:{default:"",type:cc.String}},onLoad:function(){this.node.runAction(this.drumMove())},onDestroy:function(){this.node.stopAllActions()},start:function(){},drumMove:function(){var e=cc.moveBy(2,cc.v2(0,-846)),t=cc.callFunc(this.pass,this);return cc.sequence(e,t)},pass:function(){cc.isValid(this.node)&&("drum"==this.objectType&&this.game.showMiss(this.maskNum),this.game.removeElement(this.node.uuid,this.maskNum),this.node.destroy())}}),cc._RF.pop()},{}],FishingJoy:[function(e,t,i){"use strict";cc._RF.push(t,"04fc7v2cZxA25mUr2pXgDyJ","FishingJoy");var n=e("Business");cc.Class({extends:cc.Component,properties:{bullet:{default:null,type:cc.Prefab},fish1:{default:null,type:cc.Prefab},fish2:{default:null,type:cc.Prefab},fish3:{default:null,type:cc.Prefab},fish4:{default:null,type:cc.Prefab},fish5:{default:null,type:cc.Prefab},gameOver:{default:null,type:cc.Prefab},startNode:{default:null,type:cc.Node},playNode:{default:null,type:cc.Node},actorNode:{default:null,type:cc.Node},cannonNode:{default:null,type:cc.Node},scoreNode:{default:null,type:cc.Node},timerNode:{default:null,type:cc.Node},_timer:{default:60,type:cc.Integer},maxTime:{default:60,type:cc.Integer},scheduleFunctions:[],bgmAudio:{default:null,type:cc.AudioClip}},onLoad:function(){n.listenMessageAndResponse(this),window.game&&Object.keys(window.game).length>0&&this.init(window.game),cc.director.getPhysicsManager().enabled=!0},start:function(){this.node.on("addScore",this.addScore,this)},cannon:function(e){var t=e.getLocation(),i=cc.v2(cc.winSize.width/2,0),n=t.sub(i),o=Math.atan2(n.y,n.x)/Math.PI*180,s=90-o;this.cannonNode.getChildByName("Cannon").setRotation(s);if(!(this.actorNode.children.filter(function(e){return"Bullet"==e.name}).length>=10)){var c=cc.instantiate(this.bullet);this.actorNode.addChild(c),c.position=cc.v2(0,cc.winSize.height/-2+20),c.setRotation(s),c.getComponent(cc.RigidBody).linearVelocity=cc.v2(250*Math.cos(o*(Math.PI/180)),250*Math.sin(o*(Math.PI/180)))}},init:function(e){this.maxTime=e.gameTime},quit:function(){this.reset()},reset:function(){var e=cc.director.getScheduler();for(var t in this.scheduleFunctions)e.unschedule(this.scheduleFunctions[t],this.node);cc.audioEngine.pauseAll(),this.startNode.active=!0,this.playNode.active=!1,this.scoreNode.getComponent(cc.Label).string=0;var i=this.playNode.getChildByName("GameOver");cc.isValid(i)&&i.destroy()},restart:function(){this.reset(),this.btnStart()},gameStart:function(){var e=this,t=cc.director.getScheduler(),i=e.timerNode.getComponent(cc.Label);e.node.on(cc.Node.EventType.TOUCH_START,e.cannon,e),cc.audioEngine.playEffect(e.bgmAudio,!0),e._timer=e.maxTime,i.string=e._timer;var n=function n(){if(e._timer<=0)return t.unschedule(n,e.node),t.unschedule(o,e.node),void e.showGameOver();i.string=--e._timer},o=function(){var t=Math.random(),i=cc.winSize.height/8,n=function(e,t,n,o){var s=cc.winSize.height/-2,c=s+i*e;return{startY:c,rangeY:Math.abs(Math.abs(c)-Math.abs(s+i*t)),rate:n,score:o}};t<=.1?e.pushFish(e.fish1,n(5,7,.1,30)):t<=.25?e.pushFish(e.fish3,n(5,6,.25,25)):t<=.45?e.pushFish(e.fish2,n(4,5,.4,20)):t<=.7?e.pushFish(e.fish4,n(3,4,.6,15)):e.pushFish(e.fish5,n(2,4,.8,10))};e.scheduleFunctions.push(n),e.scheduleFunctions.push(o),t.schedule(n,e.node,1),t.schedule(o,e.node,.8)},showGameOver:function(){var e=this;cc.audioEngine.pauseAll(),e.node.off(cc.Node.EventType.TOUCH_START,e.cannon,e);var t=cc.instantiate(e.gameOver),i=t.getComponent(cc.Animation);t.setPosition(cc.v2(0,0)),e.playNode.addChild(t),i.on("finished",function(){var t=e.scoreNode.getComponent(cc.Label).string;n.postMessage({type:"game_over",gameScore:parseFloat(t)})})},pushFish:function(e,t){var i=cc.instantiate(e),n=Math.random()>.5?-1:1,o=cc.v2(480*n,t.startY+Math.random()*t.rangeY),s=cc.v2(480*-n,t.startY+Math.random()*t.rangeY).sub(o),c=Math.atan2(s.y,s.x)/Math.PI*180,a=180-c;i.position=o,i.setRotation(a),i.getChildByName("Sprite").setScale(cc.v2(1,n)),i.getComponent("Fish").init({rate:t.rate,score:t.score}),i.getComponent(cc.RigidBody).linearVelocity=cc.v2(100*Math.cos(c*(Math.PI/180)),100*Math.sin(c*(Math.PI/180))),this.actorNode.addChild(i)},btnStart:function(e){n.userBehaviorBuryingPoint({type:"be_play_game",comment:"\u6355\u9c7c\u8fbe\u4eba\u5c0f\u6e38\u620f",action:"\u73a9"},function(e,t){t&&console.log("\u6355\u9c7c\u8fbe\u4eba\u57cb\u70b9\u6210\u529f")});this.startNode.active=!1,this.playNode.active=!0,this.gameStart()},addScore:function(e){var t=this.scoreNode.getComponent(cc.Label);this._timer<=0||(t.string=parseFloat(t.string)+parseFloat(e.detail.score),e.stopPropagation())}}),cc._RF.pop()},{Business:"Business"}],Fish:[function(e,t,i){"use strict";cc._RF.push(t,"fa81bE5kztO1pHEKESBDpmk","Fish"),cc.Class({extends:cc.Component,properties:{_rate:{default:0,type:cc.Float},_score:{default:0,type:cc.Integer},dieAudio:{default:null,type:cc.AudioClip}},init:function(e){this._rate=e.rate||1,this._score=e.score||1},onBeginContact:function(e,t,i){var n=this;if(99==i.tag)return n.node.destroy();if(Math.random()>n._rate){t.enabled=!1,n.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,0),t.node.getComponent(cc.Animation).play().speed=3;var o={score:n._score},s=new cc.Event.EventCustom("addScore",!0);s.detail=o,n.node.dispatchEvent(s),i.node.emit("showResult",o),cc.audioEngine.playEffect(n.dieAudio,!1),setTimeout(function(){cc.isValid(n.node)&&n.node.destroy()},600)}else i.node.emit("showResult",{})}}),cc._RF.pop()},{}],GameOver:[function(e,t,i){"use strict";cc._RF.push(t,"20d63SwI0ZA8qSm9uWkN/Fn","GameOver"),cc.Class({extends:cc.Component,properties:{audio:{default:null,type:cc.AudioClip}},onLoad:function(){cc.audioEngine.playEffect(this.audio,!1)},start:function(){}}),cc._RF.pop()},{}],GoldenEggs:[function(e,t,i){"use strict";cc._RF.push(t,"642cc49riFEZJC/Sc3zfrPw","GoldenEggs");e("Business");e("CustomerAction"),cc.Class({extends:cc.Component,properties:{pickRadius:{default:60,type:cc.Integer},startDt:{default:0,type:cc.Float},startScale:{default:.8,type:cc.Float},changeScale:{default:1.5,type:cc.Float},shortLength:{default:30,type:cc.Integer},longRatio:{default:4.5,type:cc.Float},status:{default:!1,type:cc.Boolean}},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.knock,this),this.startAction()},startAction:function(){var e=this.node.parent;this.node.runAction(cc.repeatForever(cc.createMoveOval(3,{centerPosition:cc.v2(0,0),a:Math.floor(e.width/this.longRatio),b:this.shortLength,moveInAnticlockwise:!1,zOrder:[1,0],dt:this.startDt,scale:this.startScale,change:this.changeScale})))},knock:function(e,t){},drawPrize:function(){},onDestroy:function(){this.node.off(cc.Node.EventType.TOUCH_START,this.knock,this)},start:function(){}}),cc._RF.pop()},{Business:"Business",CustomerAction:"CustomerAction"}],Hammer:[function(e,t,i){"use strict";cc._RF.push(t,"79ed0DOCQdFhrXl+3HQsO3V","Hammer"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],HitGoldenEggs:[function(e,t,i){"use strict";cc._RF.push(t,"bdea3DapaZFOaSWAYFWkx1O","HitGoldenEggs");var n=e("Business");cc.Class({extends:cc.Component,properties:{hammer:{default:null,type:cc.Prefab},playNode:{default:null,type:cc.Node},brokenAudio:{default:null,type:cc.AudioClip},hitAudio:{default:null,type:cc.AudioClip},platform:{default:null,type:cc.Prefab},title:{default:null,type:cc.Node},_activitySettings:{default:null,type:cc.Object},_prize:{default:null,type:cc.Object}},onLoad:function(){n.listenMessage(this),this.gameStart(),n.listenMessageAndResponse(this)},gameStart:function(){var e=this,t=cc.instantiate(e.platform);t.setPosition(cc.v2(0,0)),e.playNode.addChild(t),e.node.on(cc.Node.EventType.TOUCH_START,e.knock,e),n.getPrizeSettings({},function(t,i){if(t)return cc.error(t.message||t);e._activitySettings=i,e._activitySettings.theme="red",e.setUIDetail()})},setUIDetail:function(){var e=void 0;switch(this._activitySettings.status){case 0:e="\u6d3b\u52a8\u672a\u5f00\u59cb";break;case 1:e="\u4eca\u65e5\u5269\u4f59\u62bd\u5956\u6b21\u6570 : "+this._activitySettings.drawCount+"\u6b21",this._activitySettings.drawCount;break;case 2:e="\u6d3b\u52a8\u5df2\u7ed3\u675f"}this.title.getComponent(cc.Label).string=e},drawPrize:function(){var e=this;new Promise(function(t,i){n.userBehaviorBuryingPoint({type:"be_draw_prize",comment:"\u7838\u91d1\u86cb\u5c0f\u6e38\u620f",action:"\u62bd\u5956"},function(e,t){t&&console.log("\u7838\u91d1\u86cb\u57cb\u70b9\u6210\u529f")}),n.drawPrize({},function(n,o){if(e._prize=o,n)return i(n);e._activitySettings.drawCount=o.data.intervalDrawTime,e.setUIDetail(),t()})}).then(function(){n.postMessage({type:"draw_over",prize:e._prize.data})}).catch(function(t){return n.postMessage({type:"draw_over",prize:e._prize.data}),cc.error(t.message||t)})},reset:function(){var e=this.playNode.getChildByName("Platform");cc.isValid(e)&&e.destroy(),this.gameStart()},restart:function(){this.reset()},knock:function(e){var t=this,i=this.playNode.convertToNodeSpaceAR(e.getLocation()),o=cc.instantiate(this.hammer),s=o.getComponent(cc.Animation),c=e.target.getComponent(cc.Animation),a="Miss",r=t.hitAudio,l=void 0;if(t._activitySettings.drawCount<=0)n.exceptionMessage("draw_over");else{if("Eggs"==e.target.name&&e.target.zIndex>0){var d=t.playNode.getChildByName("Platform").children;for(var u in d)d[u].stopAllActions();a="Hit",r=t.brokenAudio,l=function(){c.playAdditive("Broken"),t.drawPrize()},t.node.off(cc.Node.EventType.TOUCH_START,t.knock,t)}i.x+=120,o.setPosition(i),t.playNode.addChild(o),s.playAdditive(a),cc.audioEngine.playEffect(r,!1),s.on("finished",function(){cc.isValid(this)&&this.destroy(),"function"==typeof l&&l()},o)}},onDestroy:function(){this.node.off("touchstart",self.knock,self)},start:function(){}}),cc._RF.pop()},{Business:"Business"}],IconEvent:[function(e,t,i){"use strict";cc._RF.push(t,"cc78b8aIcBOtbbI/7lshQSj","IconEvent");var n=e("Business"),o={quit:"game_quit",rank:"game_rank",info:"game_info",prize:"my_prize"};cc.Class({extends:cc.Component,properties:{},btnClick:function(e,t){0!=Object.keys(window.userData).length?n.postMessage({type:o[t],controlId:window.userData.controlId}):console.error("controlId\u4e0d\u80fd\u4e3a\u7a7a")},start:function(){}}),cc._RF.pop()},{Business:"Business"}],LayerResult:[function(e,t,i){"use strict";cc._RF.push(t,"d6efbdphsFKDr3o1qugPf1F","LayerResult"),cc.Class({extends:cc.Component,properties:{successLayer:{default:null,type:cc.Node},failedLayer:{default:null,type:cc.Node},_result:{default:null,type:cc.Object}},onLoad:function(){this.node.active=!1},start:function(){},show:function(e){this._result=e.result||null,this.node.active=!0,this.successLayer.active=!1,this.failedLayer.active=!1,this._result&&this._result.prize?(this.successLayer.active=!0,cc.find("Body/Title/Label",this.successLayer).getComponent(cc.Label).string=this._result.prize.name):this.failedLayer.active=!0},btnAction:function(e,t){switch(t){case"return":this.node.active=!1;break;case"subscribe":console.log("subscribe");break;case"submit":console.log("form submit")}}}),cc._RF.pop()},{}],LayerSubscribe:[function(e,t,i){"use strict";cc._RF.push(t,"548afeHkVVMVrLse0+lMWLX","LayerSubscribe");e("../Utils/Request");cc.Class({extends:cc.Component,properties:{qrCode:{default:null,type:cc.Node,displayName:"\u5c0f\u7a0b\u5e8f\u7801\u7cbe\u7075"}},onLoad:function(){},start:function(){var e=this;cc.loader.load("http://bos-kcmsdesign.iwanqi.cn/00000000-0000-0000-0000-000000000000/KMA/8cf84528-1c45-4d67-9d68-a4a56b2cfbde.jpg?t="+Date.now(),function(t,i){if(t)return console.log(t);e.qrCode.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i)})}}),cc._RF.pop()},{"../Utils/Request":"Request"}],LockyEggs:[function(e,t,i){"use strict";cc._RF.push(t,"02ae88k3UdDRJg4r9sYDIRM","LockyEggs");var n=e("Business");cc.Class({extends:cc.Component,properties:{egg:{default:null,type:cc.Prefab},_containerNode:{default:null,type:cc.Node},_buttonNode:{default:null,type:cc.Node},_layerResultNode:{default:null,type:cc.Node},_activitySettings:{default:null,type:cc.Object},_prize:{default:null,type:cc.Object},_status:{default:"",type:cc.String}},onLoad:function(){n.listenMessage(this),cc.director.getPhysicsManager().enabled=!0,this._containerNode=this.node.getChildByName("Background"),this._buttonNode=this._containerNode.getChildByName("ButtonStart"),cc.find("Carrier/Prize",this._containerNode).getComponent(cc.Animation).on("finished",this.popupPrizeLayer,this),cc.find("LayerContext",this._containerNode).getComponent(cc.Animation).on("finished",this.showResult,this),this._status="loaded",n.listenMessageAndResponse(this)},start:function(){for(var e=this,t=e._containerNode.getChildByName("EggsContainer"),i=0;i<18;){var o=cc.instantiate(e.egg);o.position=cc.v2(10*Math.random(),10*Math.random()),t.addChild(o),i++}n.getPrizeSettings({},function(t,i){if(t)return cc.error(t.message||t);e._activitySettings=i,e._activitySettings.theme="red",e._status="ready",e.setUIDetail()})},reset:function(){this._containerNode.getChildByName("LayerContext").active=!1},restart:function(){this.reset()},setUIDetail:function(){var e=void 0;switch(this._activitySettings.status){case 0:e="\u6d3b\u52a8\u672a\u5f00\u59cb";break;case 1:e="\u60a8\u5269\u4f59\u62bd\u5956\u6b21\u6570\uff1a"+this._activitySettings.drawCount+"\u6b21";break;case 2:e="\u6d3b\u52a8\u5df2\u7ed3\u675f"}cc.find("Carrier/Title",this._containerNode).getComponent(cc.Label).string=e},btnStart:function(e){n.userBehaviorBuryingPoint({type:"be_draw_prize",comment:"\u626d\u86cb\u673a\u5c0f\u6e38\u620f",action:"\u62bd\u5956"},function(e,t){t&&console.log("\u626d\u86cb\u673a\u57cb\u70b9\u6210\u529f")});var t=this,i=e.target.getComponent(cc.Button),o=cc.find("EggsContainer/Force",t._containerNode),s=cc.find("Carrier/Prize",t._containerNode);"ready"==t._status&&(t._status="starting",i.interactable=!1,t._activitySettings.drawCount<=0?n.exceptionMessage("draw_over"):new Promise(function(e,i){n.drawPrize({},function(n,o){if(t._prize=o,t._activitySettings.drawCount=o.data.intervalDrawTime,cc.find("Carrier/Title",t._containerNode).getComponent(cc.Label).string="\u60a8\u5269\u4f59\u62bd\u5956\u6b21\u6570\uff1a"+t._prize.data.intervalDrawTime+"\u6b21",n)return i(n);e()})}).then(function(){return new Promise(function(e,i){t.setUIDetail(),o.active=!0,setTimeout(function(){o.active=!1,e()},3e3)})}).then(function(e){setTimeout(function(){s.getComponent(cc.Animation).play()},500)}).catch(function(e){return o.active=!1,i.interactable=!0,t._status="ready",n.postMessage({type:"draw_over",prize:t._prize.data}),cc.error(e.message||e)}))},popupPrizeLayer:function(){var e=this._containerNode.getChildByName("LayerContext");e.getComponent(cc.Animation).play(),setTimeout(function(){e.active=!0},1)},showResult:function(){n.postMessage({type:"draw_over",prize:this._prize.data}),this._status="ready",this._buttonNode.getComponent(cc.Button).interactable=!0}}),cc._RF.pop()},{Business:"Business"}],MoleGame:[function(e,t,i){"use strict";cc._RF.push(t,"04dff0ZLaVF47N/2kGrD6r7","MoleGame");var n=e("Business");cc.Class({extends:cc.Component,properties:{mask:{default:null,type:cc.Prefab},moles:[cc.Prefab],moleDead:{default:null,type:cc.Prefab},holes:[cc.Node],hammer:{default:null,type:cc.Prefab},gameOver:{default:null,type:cc.Prefab},actorNode:{default:null,type:cc.Node},startNode:{default:null,type:cc.Node},playNode:{default:null,type:cc.Node},timerNode:{default:null,type:cc.Node},scoreNode:{default:null,type:cc.Node},holeState:{default:{}},score:{default:0,type:cc.Integer},pickedAudio:{default:null,type:cc.AudioClip},hammerAudio:{default:null,type:cc.AudioClip},backgroundAudio:{default:null,type:cc.AudioClip},_timer:{default:0,type:cc.Integer},maxTime:{default:60,type:cc.Integer},_touchLocked:{default:!1,type:cc.Boolean},scheduleFuctions:[]},onLoad:function(){n.listenMessageAndResponse(this),window.game&&Object.keys(window.game).length>0&&this.init(window.game),this.node.off(cc.Node.EventType.TOUCH_END,function(){this._touchLocked=!1},this)},init:function(e){return this.maxTime=e.gameTime,!0},quit:function(){return this.reset(),!0},reset:function(){cc.audioEngine.pauseAll();var e=cc.director.getScheduler();for(var t in this.scheduleFuctions)e.unschedule(this.scheduleFuctions[t],this.node);this.node.off("touchstart",this.knock,this),this.score=0,this.scoreNode.getComponent(cc.Label).string=this.score,this.startNode.active=!0,this.playNode.active=!1;var i=this.playNode.getChildByName("GameOver");cc.isValid(i)&&i.destroy()},restart:function(){this.reset(),this.btnStart()},onDestroy:function(){this.node.off("touchstart",this.knock,this)},setHoleState:function(e,t,i){var n=this;i?setTimeout(function(){n.holeState[e]=t},i):n.holeState[e]=t},knock:function(e,t){this._touchLocked||(this._touchLocked=!0,this.showHammer(e.getLocation()))},showHammer:function(e,t,i){var n=this.playNode.convertToNodeSpaceAR(e),o=cc.instantiate(this.hammer),s=o.getComponent(cc.Animation);t=t?"Hammer":"HammerMiss";n.x+=144,o.setPosition(n),this.playNode.addChild(o),s.playAdditive(t),cc.audioEngine.playEffect(this.hammerAudio,!1),s.on("finished",function(e,n){n.name==t&&this.destroy(),"function"==typeof i&&i()},o)},gameStart:function(){n.userBehaviorBuryingPoint({type:"be_play_game",comment:"\u6253\u5730\u9f20\u5c0f\u6e38\u620f",action:"\u73a9"},function(e,t){t&&console.log("\u6253\u5730\u9f20\u57cb\u70b9\u6210\u529f")});var e=this,t=e.timerNode.getComponent(cc.Label),i=cc.director.getScheduler();e._timer=e.maxTime,t.string=e._timer,e.node.on("touchstart",e.knock,e),cc.audioEngine.playEffect(e.backgroundAudio,!0);var o=function(){var t=Math.random();e.pushMole(),t>.4&&e.pushMole(),t>.7&&e.pushMole(),t>.9&&e.pushMole()},s=function n(){e._timer--,e._timer<=0&&(i.unschedule(o,e.node),i.unschedule(n,e.node),e.showGameOver()),t.string=e._timer};e.scheduleFuctions.push(o),e.scheduleFuctions.push(s),i.schedule(o,e.node,.8),i.schedule(s,e.node,1)},showGameOver:function(){var e=this;cc.audioEngine.pauseAll(),e.node.off("touchstart",e.knock,e);var t=cc.instantiate(e.gameOver),i=t.getComponent(cc.Animation);t.setPosition(cc.v2(0,0)),e.playNode.addChild(t),i.on("finished",function(){n.postMessage({type:"game_over",gameScore:e.score})})},pushMole:function(){var e=Math.floor(3*Math.random()),t=Math.floor(8*Math.random());if(!this.holeState[t]){this.setHoleState(t,!0);var i=cc.instantiate(this.moles[e]),n=this.holes[t].getChildByName("Mask");i.setPosition(cc.v2(0,-117)),n.addChild(i),i.getComponent("Mole").game=this,i.getComponent("Mole").holeNum=t}},btnStart:function(e){this.startNode.active=!1,this.playNode.active=!0,this.gameStart()},bingo:function(e,t){var i=this;i.showHammer(e.location,"Hammer",function(){i.addScore(e.score),i.showPicked(e),"function"==typeof t&&t()})},showPicked:function(e){var t=this.holes[e.holeNum],i=t.getChildByName("Mask"),n=cc.instantiate(this.moleDead),o=n.getComponent(cc.Animation);n.setPosition(i.getPosition()),n.getChildByName("Score").getComponent(cc.Label).string="+"+e.score,t.addChild(n),o.playAdditive("MoleDead"),cc.audioEngine.playEffect(this.pickedAudio,!1),o.on("finished",function(e,t){"MoleDead"==t.name&&this.destroy()},n)},addScore:function(e){var t=this.scoreNode.getComponent(cc.Label);this.score+=e,t.string=this.score}}),cc._RF.pop()},{Business:"Business"}],Mole:[function(e,t,i){"use strict";cc._RF.push(t,"f135eIdAgxDF43TscL0pAWf","Mole"),cc.Class({extends:cc.Component,properties:{game:{default:null,type:cc.Node},holeNum:0,pickRadius:135,delay:{default:.5,type:cc.Float},score:{default:10,type:cc.Integer},isDead:{default:!1,type:cc.Boolean}},onLoad:function(){this.node.runAction(this.moleMove()),this.node.on("touchstart",this.knock,this)},onDestroy:function(){this.node.stopAllActions(),this.node.off("touchstart",this.knock,this)},knock:function(e,t){if(!this.isDead){var i=e.getLocation();this.node.convertToWorldSpace(this.node.getPosition()).sub(i).mag()<this.pickRadius&&(this.isDead=!0,this.onPicked(i))}},moleMove:function(){var e=cc.moveBy(.3,cc.v2(0,100)).easing(cc.easeCubicActionOut()),t=cc.moveBy(.3,cc.v2(0,-117)).easing(cc.easeCubicActionIn()),i=cc.callFunc(this.pass,this);return cc.sequence(e,cc.delayTime(this.delay),t,i)},onPicked:function(e){var t=this;t.game.bingo({holeNum:t.holeNum,location:e,score:t.score},function(){t.pass(new Number(1200))})},pass:function(e){cc.isValid(this.node)&&(this.game.setHoleState(this.holeNum,!1,e instanceof Number?e:0),this.node.destroy())},start:function(){}}),cc._RF.pop()},{}],MusicalGame:[function(e,t,i){"use strict";cc._RF.push(t,"59f33fK5WhAraDxO3PVRW6Y","MusicalGame");e("Song");var n=e("Business");cc.Class({extends:cc.Component,properties:{elements:[cc.Prefab],mask1:{default:null,type:cc.Node},mask2:{default:null,type:cc.Node},mask1Elements:[cc.Node],mask2Elements:[cc.Node],scoreTable:{default:null,type:cc.Node},scoreLable:{default:null,type:cc.Node},score:{default:0,type:cc.Integer},timeLable:{default:null,type:cc.Node},startNode:{default:null,type:cc.Node},playNode:{default:null,type:cc.Node},drumAudios:[cc.AudioClip],boomAudio:{default:null,type:cc.AudioClip},_timer:{default:60,type:cc.Integer},maxTime:{default:60,type:cc.Integer},drumPoint:{default:0,type:cc.Integer},song:{default:null},backgroundAudio:[cc.AudioClip],gameOver:{default:null,type:cc.Prefab},scheduleFuctions:[]},onLoad:function(){n.listenMessageAndResponse(this),window.game&&Object.keys(window.game).length>0&&this.init(window.game)},start:function(){},init:function(e){return this.maxTime=e.gameTime?e.gameTime:60,!0},quit:function(){return this.reset(),!0},reset:function(){this.startNode.active=!0,this.playNode.active=!1;var e=cc.director.getScheduler();for(var t in this.scheduleFuctions)e.unschedule(this.scheduleFuctions[t],this.node);for(var t in cc.audioEngine.pauseAll(),this.score=0,this.scoreLable.getComponent(cc.Label).string=this.score,this._timer=this.maxTime,this.mask1Elements)cc.isValid(this.mask1Elements[t])&&this.mask1Elements[t].destroy();for(var t in this.mask2Elements)cc.isValid(this.mask2Elements[t])&&this.mask2Elements[t].destroy();this.mask1Elements=[],this.mask2Elements=[];var i=this.playNode.getChildByName("GameOver");cc.isValid(i)&&i.destroy()},restart:function(){this.reset(),this.btnStart()},btnStart:function(){this.startNode.active=!1,this.playNode.active=!0,this._timer=this.maxTime;var e=this.backgroundAudio.length;cc.audioEngine.playEffect(this.backgroundAudio[Math.floor(Math.random()*e)],!1),this.gameStartNormal()},drumClick:function(e,t){var i=void 0,n=void 0,o=void 0;if(o=0==t?Math.floor(3*Math.random()):3+Math.floor(2*Math.random()),0==t&&(this.mask1,i=this.mask1Elements),1==t&&(this.mask2,i=this.mask2Elements),0!=i.length){var s=i[0],c=e.target.getPosition().sub(s.getPosition()).mag();if(c>120)cc.audioEngine.playEffect(this.drumAudios[o],!1);else{if("boom"==s.getComponent("Element").objectType){n=-20,this.removeElement(s.uuid,t),s.stopAllActions(),s.setPosition(e.target.getPosition()),this.addScore(n),cc.audioEngine.playEffect(this.boomAudio,!1);var a=s.getComponent(cc.Animation);return a.playAdditive("Hit"),void a.on("finished",function(e,t){cc.isValid(this)&&this.destroy()},s)}n=c>=0&&c<30?30:c>=30&&c<90?15:5,this.removeElement(s.uuid,t),s.stopAllActions(),s.setPosition(e.target.getPosition()),this.addScore(n),cc.audioEngine.playEffect(this.drumAudios[o],!1);var r=s.getComponent(cc.Animation);r.playAdditive("Hit"),r.on("finished",function(e,t){cc.isValid(this)&&this.destroy()},s)}}else cc.audioEngine.playEffect(this.drumAudios[o],!1)},showMiss:function(e){(0==e?this.mask1:this.mask2).getChildByName("Hit").getChildByName("Miss").getComponent(cc.Animation).playAdditive("Miss")},addScore:function(e){this._timer<=0||(this.scoreTable.getChildByName("Label").getComponent(cc.Label).string=e>0?"+"+e:e,this.scoreTable.getComponent(cc.Animation).playAdditive("Score"),this.score+=e,this.scoreLable.getComponent(cc.Label).string=this.score)},gameStartNormal:function(){var e=this,t=cc.director.getScheduler(),i=this.timeLable.getComponent(cc.Label);i.string=e._timer;var n=function n(){if(e._timer<=0)return t.unschedule(n,e.node),t.unschedule(o,e.node),void e.showGameOver();i.string=--e._timer},o=function(){var t=Math.random(),i=Math.floor(2*Math.random());t>.3&&e.createElement(i,Math.floor(5*Math.random())),t>.8&&setTimeout(function(){e.createElement(!i,Math.floor(5*Math.random()))},100)};e.scheduleFuctions.push(n),e.scheduleFuctions.push(o),t.schedule(n,e.node,1),t.schedule(o,e.node,.3)},gameStartSong:function(){n.userBehaviorBuryingPoint({type:"be_play_game",comment:"\u51fb\u9f13\u8fbe\u4eba\u5c0f\u6e38\u620f",action:"\u73a9"},function(e,t){t&&console.log("\u51fb\u9f13\u8fbe\u4eba\u57cb\u70b9\u6210\u529f")});var e=this,t=cc.director.getScheduler(),i=this.timeLable.getComponent(cc.Label);i.string=e._timer;var o=function(){if(e.drumPoint++,e.song[e.drumPoint]){var t=e.song[e.drumPoint]-1;e.createElement(t,Math.floor(4*Math.random()))}else{Math.random()>.8&&e.createElement(Math.floor(2*Math.random()),4)}};t.schedule(function n(){if(e._timer<=0)return t.unschedule(n,e.node),t.unschedule(o,e.node),void e.showGameOver();i.string=--e._timer},e.node,1),t.schedule(o,e.node,.5)},showGameOver:function(){var e=this,t=cc.instantiate(e.gameOver);t.setPosition(cc.v2(0,0)),e.playNode.addChild(t),t.getComponent(cc.Animation).on("finished",function(t,i){n.postMessage({type:"game_over",gameScore:e.score}),cc.audioEngine.pauseAll()},t)},createElement:function(e,t){var i=cc.instantiate(this.elements[t]);i.setPosition(cc.v2(0,0)),i.getComponent("Element").game=this,i.getComponent("Element").maskNum=e,0==e?(this.mask1.addChild(i),this.mask1Elements.push(i)):(this.mask2.addChild(i),this.mask2Elements.push(i))},removeElement:function(e,t){0!=t?this.mask2Elements.length>0&&this.mask2Elements[0].uuid==e&&this.mask2Elements.splice(0,1):this.mask1Elements.length>0&&this.mask1Elements[0].uuid==e&&this.mask1Elements.splice(0,1)}}),cc._RF.pop()},{Business:"Business",Song:"Song"}],Request:[function(e,t,i){"use strict";cc._RF.push(t,"1184eH/PZVEDoL3mJjYBzOS","Request");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o="GET",s="POST",c="PUT",a=function(e,t,i){var o=new XMLHttpRequest;o.onreadystatechange=function(){4==o.readyState&&(o.status>=200&&o.status<400?i(JSON.parse(o.responseText)):i(new Error("Response Error")))},o.open(e,t.url,!0),o.setRequestHeader("Accept","application/json"),o.setRequestHeader("content-type","application/json"),o.setRequestHeader("Access-Control-Allow-Origin","*"),o.setRequestHeader("session_id",window.userData.sessionId);var s=t.data;"object"==(void 0===s?"undefined":n(s))&&(s=JSON.stringify(s)),o.send(s)};t.exports={get:function(e,t){a(o,e,t)},post:function(e,t){a(s,e,t)},put:function(e,t){a(c,e,t)}},cc._RF.pop()},{}],Song:[function(e,t,i){"use strict";cc._RF.push(t,"611867K1wFNJq+qHk9N7ax0","Song"),t.exports=[{1:1,3:2,4:2,6:2,7:2,9:1,11:2,12:2,14:2,15:2,17:1,19:2,20:2,22:2,23:2,pointLength:24}],cc._RF.pop()},{}],bomb:[function(e,t,i){"use strict";cc._RF.push(t,"ae951qfquJEyZKLTPHNf6mq","bomb"),cc.Class({extends:cc.Component,properties:{score:0,bombAudio:{default:null,type:cc.AudioClip}},init:function(e){e.size&&(this.node.width=e.size.width,this.node.height=e.size.height);var t=this.getComponent(cc.RigidBody),i=Math.random()>.5?1:-1;(t.angularVelocity=100*Math.random()*i,t.gravityScale=e.gravityScale,e.radius)&&(this.getComponent(cc.PhysicsCircleCollider).radius=e.radius);this.score=e.score},onBeginContact:function(e,t,i){"Player"!=i.node.name||this.isContact||(this.isContact=!0,cc.audioEngine.playEffect(this.bombAudio,!1),t.node.destroy(),this.game.gainScore(this.score))},start:function(){this.isContact=!1},update:function(e){}}),cc._RF.pop()},{}],fingerGuessing:[function(e,t,i){"use strict";cc._RF.push(t,"3bfbdnDF3xD14iTkL7FeSDL","fingerGuessing");var n=e("Business");cc.Class({extends:cc.Component,properties:{Background:{default:null,type:cc.Node},Top:{default:null,type:cc.Node},Startly:{default:null,type:cc.Node},player:{default:null,type:cc.Node},Bottom:{default:null,type:cc.Node},Time:{default:null,type:cc.Label},resultAnim:{default:null,type:cc.Animation},addScorePre:{default:null,type:cc.Prefab},deleteScorePre:{default:null,type:cc.Prefab},continuityPre:{default:null,type:cc.Prefab},winAudio:{default:null,type:cc.AudioClip},falseAudio:{default:null,type:cc.AudioClip},tieAudio:{default:null,type:cc.AudioClip},gameOverPre:{default:null,type:cc.Prefab}},onLoad:function(){var e=this,t=this;t.node.on("pitted_end",function(e){t.resultProcess(t,e.detail)}),cc.loader.loadRes("FingerGuessing/rock_1",cc.SpriteFrame,function(t,i){e.rockFrame=i}),cc.loader.loadRes("FingerGuessing/scissors_1",cc.SpriteFrame,function(t,i){e.scissorsFrame=i}),cc.loader.loadRes("FingerGuessing/paper_1",cc.SpriteFrame,function(t,i){e.paperFrame=i}),n.listenMessageAndResponse(this),window.game&&Object.keys(window.game).length>0&&t.init(window.game)},init:function(e){console.log("data.gameTime",e.gameTime),this._timer=e.gameTime||60,this.Time.string=this._timer,this.maxTime=this._timer},quit:function(){this.gameOver();var e=new cc.Event.EventCustom("gameOver_time",!1);this.node.dispatchEvent(e)},resultProcess:function(e,t){t.player.indexOf("rock")>=0?e.player.getComponent(cc.Sprite).spriteFrame=e.rockFrame:t.player.indexOf("scissors")>=0?e.player.getComponent(cc.Sprite).spriteFrame=e.scissorsFrame:t.player.indexOf("paper")>=0&&(e.player.getComponent(cc.Sprite).spriteFrame=e.paperFrame);var i=e.resultAnim.getComponent(cc.Animation);if(i.on("stop",e.initLy,e),t.player.indexOf("rock")>=0&&t.enemy.indexOf("scissors")>=0||t.player.indexOf("scissors")>=0&&t.enemy.indexOf("paper")>=0||t.player.indexOf("paper")>=0&&t.enemy.indexOf("rock")>=0){cc.audioEngine.playEffect(e.winAudio,!1);var n=cc.instantiate(e.addScorePre);if(e.Background.addChild(n),n.setPosition(cc.v2(e.Background.width/4,50)),1==e.lastType){if(e.winTimes++,e.winTimes>=2){var o=cc.instantiate(e.continuityPre);e.Background.addChild(o),o.setPosition(cc.v2(e.Background.width/4,-50)),o.getComponent(cc.Label).string="\u8fde\u80dcX"+e.winTimes,o.getComponent(cc.Animation).on("stop",o.destroy,o)}}else e.winTimes=1;e.lastType=1;var s=10*e.winTimes;e.score+=s,n.getComponent(cc.Label).string="+"+s,n.getComponent(cc.Animation).on("stop",n.destroy,n),i.play("resultAnimWin")}else if(t.player==t.enemy)cc.audioEngine.playEffect(e.tieAudio,!1),i.play("tieAnim"),e.winTimes=0,e.lastType=0;else{n=cc.instantiate(e.deleteScorePre);e.Background.addChild(n),n.setPosition(cc.v2(e.Background.width/4,0)),n.getComponent(cc.Animation).on("stop",n.destroy,n),n.getComponent(cc.Label).string="-10",e.score-=10,i.play("resultAnimFalse"),e.lastType=-1,e.winTimes=0,cc.audioEngine.playEffect(e.falseAudio,!1)}e.winTimesLb.string="\u8fde\u80dc*"+e.winTimes,e.scoreLb.string=e.score+""},initLy:function(){console.log("\u6e38\u620f\u91cd\u7f6e\u754c\u9762"),this.player.getComponent(cc.Sprite).spriteFrame=null,cc.find("Play/RockBase",this.Background).getComponent("fingue_choice").init(),cc.find("Play/ScissorsBase",this.Background).getComponent("fingue_choice").init(),cc.find("Play/PaperBase",this.Background).getComponent("fingue_choice").init(),cc.find("Top",this.Background).getComponent("fingue_top").init()},btnStart:function(){var e=this;n.userBehaviorBuryingPoint({type:"be_play_game",comment:"\u731c\u62f3\u5c0f\u6e38\u620f",action:"\u73a9"},function(e,t){t&&console.log("\u731c\u62f3\u57cb\u70b9\u6210\u529f")});var t=cc.director.getScheduler(),i=function i(){if(e._timer<=0)return t.unschedule(i,e.node),void e.showGameOver();e.Time.string=--e._timer};this.reset();var o=new cc.Event.EventCustom("init_choice",!1);cc.find("Play/RockBase",this.Background).dispatchEvent(o),cc.find("Play/ScissorsBase",this.Background).dispatchEvent(o),cc.find("Play/PaperBase",this.Background).dispatchEvent(o);var s=new cc.Event.EventCustom("init_start",!1);this.Top.dispatchEvent(s),this.Startly.active=!1,this._timer||(this._timer=60),t.schedule(i,this.node,1);var c=this;this.node.on("gameOver_time",function(e){t.unschedule(i,c.node)})},restart:function(){this.reset(),this.btnStart()},reset:function(){var e=new cc.Event.EventCustom("init_choice_begin",!1);cc.find("Play/RockBase",this.Background).dispatchEvent(e),cc.find("Play/ScissorsBase",this.Background).dispatchEvent(e),cc.find("Play/PaperBase",this.Background).dispatchEvent(e),this.Startly.active=!0;var t=new cc.Event.EventCustom("init_scene",!1);this.Top.dispatchEvent(t),this.score=0,this.winTimes=0,this.lastType=0,this._timer=this.maxTime,this.scoreLb.string=this.score+"",this.winTimesLb.string="\u8fde\u80dc*"+this.winTimes;var i=new cc.Event.EventCustom("gameOver_time",!1);this.node.dispatchEvent(i);var n=this.Background.getChildByName("GameOver");cc.isValid(n)&&n.destroy()},showGameOver:function(){var e=this,t=cc.instantiate(e.gameOverPre);t.setPosition(cc.v2(0,0)),e.Background.addChild(t),t.getComponent(cc.Animation).on("finished",function(t,i){e.gameOver(),n.postMessage({type:"game_over",gameScore:e.score})},t)},gameOver:function(){var e=new cc.Event.EventCustom("gameOver_choice",!1);cc.find("Play/RockBase",this.Background).dispatchEvent(e),cc.find("Play/ScissorsBase",this.Background).dispatchEvent(e),cc.find("Play/PaperBase",this.Background).dispatchEvent(e);var t=new cc.Event.EventCustom("gameOver_top",!1);this.Top.dispatchEvent(t)},start:function(){this.lastType=0,this.winTimes=0,this.score=0,this.scoreLb=this.Bottom.getChildByName("Base").getChildByName("Integral").getChildByName("Label").getComponent(cc.Label),this.winTimesLb=this.Bottom.getChildByName("Base").getChildByName("Times").getChildByName("Label").getComponent(cc.Label),this.timeLb=cc.find("Time/Label",this.Top).getComponent(cc.Label),console.log("window:",window)}}),cc._RF.pop()},{Business:"Business"}],fingue_choice:[function(e,t,i){"use strict";cc._RF.push(t,"39951vtsF5M8a5wx+8O/JS7","fingue_choice"),cc.Class({extends:cc.Component,properties:{Top:{default:null,type:cc.Node},Other:{default:null,type:cc.Node},Another:{default:null,type:cc.Node},isClick:!0},onLoad:function(){var e=this;e.node.on("init_choice",function(t){e.sprite.spriteFrame=null,e.isClick=!0,e.node.on(cc.Node.EventType.TOUCH_START,e.click,e),e.node.on(cc.Node.EventType.MOUSE_DOWN,e.click,e)}),e.node.on("init_choice_begin",function(t){e.sprite.spriteFrame=null,e.isClick=!1,e.node.off(cc.Node.EventType.TOUCH_START,e.click,e),e.node.off(cc.Node.EventType.MOUSE_DOWN,e.click,e)}),e.node.on("gameOver_choice",function(t){e.sprite.spriteFrame=null,e.node.off(cc.Node.EventType.TOUCH_START,e.click,e),e.node.off(cc.Node.EventType.MOUSE_DOWN,e.click,e),e.isClick=!1,e.sprite.spriteFrame=null})},click:function(){if(this.isClick){this.sprite.spriteFrame=this.spriteFrame,this.Other.getComponent(cc.Sprite).spriteFrame=null,this.Another.getComponent(cc.Sprite).spriteFrame=null;var e=new cc.Event.EventCustom("player_choice",!1);e.setUserData(this.node.name),this.Top.dispatchEvent(e),this.isClick=!1,this.Other.getComponent("fingue_choice").isClick=!1,this.Another.getComponent("fingue_choice").isClick=!1}},init:function(){this.isClick=!0,this.sprite.spriteFrame=null},start:function(){var e=this;cc.loader.loadRes("FingerGuessing/change",cc.SpriteFrame,function(t,i){e.spriteFrame=i}),this.sprite=this.node.getComponent(cc.Sprite),this.isClick=!0}}),cc._RF.pop()},{}],fingue_top:[function(e,t,i){"use strict";cc._RF.push(t,"5574f0KWApGq6oPoLegKfnK","fingue_top"),cc.Class({extends:cc.Component,properties:{SwitchAnim:{default:null,type:cc.Animation},HistoryLy:{default:null,type:cc.Node},HistoryPre:{default:null,type:cc.Prefab}},onLoad:function(){var e=this,t=this;this.node.on("init_start",function(e){t.anim=t.SwitchAnim.getComponent(cc.Animation),t.anim.play(),t.isPlay=!0}),this.node.on("init_scene",function(e){for(t.isPlay=!0,t.anim&&t.anim.stop(),t.whatSprite.spriteFrame=t.how;t.HistoryLy.children.length>0;)console.log("",t.HistoryLy.children.length),t.HistoryLy.children.splice(0,1)}),t.node.on("player_choice",function(e){t.scheduleOnce(function(){t.anim.pause(),t.getRandom(t,e.detail)},.5)}),this.node.on("gameOver_top",function(e){t.anim.stop(),t.whatSprite.spriteFrame=t.how,t.isPlay=!1}),cc.loader.loadRes("FingerGuessing/rock_3",cc.SpriteFrame,function(t,i){e.historRock=i}),cc.loader.loadRes("FingerGuessing/scissors_3",cc.SpriteFrame,function(t,i){e.historScissors=i}),cc.loader.loadRes("FingerGuessing/paper_3",cc.SpriteFrame,function(t,i){e.historPaper=i}),cc.loader.loadRes("FingerGuessing/how",cc.SpriteFrame,function(t,i){e.how=i}),this.whatSprite=t.node.getChildByName("EnemyFinger").getChildByName("background").getChildByName("what").getComponent(cc.Sprite)},getRandom:function(e,t){var i=Math.ceil(3*Math.random()),n="";e.HistoryLy.children.length>=4&&e.HistoryLy.children[0].destroy(),e.scheduleOnce(function(){var o=cc.instantiate(e.HistoryPre);e.HistoryLy.addChild(o),1==i?(n="FingerGuessing/rock",o.getComponent(cc.Sprite).spriteFrame=e.historRock):2==i?(n="FingerGuessing/scissors",o.getComponent(cc.Sprite).spriteFrame=e.historScissors):3==i&&(n="FingerGuessing/paper",o.getComponent(cc.Sprite).spriteFrame=e.historPaper),cc.loader.loadRes(n+"_2",cc.SpriteFrame,function(t,i){e.whatSprite.spriteFrame=i});var s={enemy:n};t.indexOf("Rock")>=0?s.player="FingerGuessing/rock":t.indexOf("Scissors")>=0?s.player="FingerGuessing/scissors":t.indexOf("Paper")>=0&&(s.player="FingerGuessing/paper");var c=new cc.Event.EventCustom("pitted_end",!1);c.setUserData(s),cc.find("Canvas").dispatchEvent(c)},0)},init:function(){this.isPlay?this.anim.play():(this.anim.stop(),this.whatSprite.spriteFrame=self.how)},start:function(){this.isPlay=!1}}),cc._RF.pop()},{}],fruit:[function(e,t,i){"use strict";cc._RF.push(t,"bba0fhukf5Fk4tWNSnnF9K7","fruit"),cc.Class({extends:cc.Component,properties:{score:0},onLoad:function(){},init:function(e){this.node.width=e.size.width,this.node.height=e.size.height;var t=this.getComponent(cc.Sprite);cc.loader.loadRes(e.path,cc.SpriteFrame,function(e,i){t.spriteFrame=i});var i=this.getComponent(cc.RigidBody),n=Math.random()>.5?1:-1;i.angularVelocity=100*Math.random()*n,i.gravityScale=e.gravityScale,this.getComponent(cc.PhysicsCircleCollider).radius=e.radius,this.score=e.score},start:function(){},onBeginContact:function(e,t,i){"Player"==i.node.name&&t.node.x<i.node.x+35&&t.node.x>i.node.x-50&&t.node.y<i.node.y+50&&(t.node.destroy(),this.game.gainScore(this.score))},update:function(e){this.node.y<-this.game.Background.height/2-100&&this.node.destroy()}}),cc._RF.pop()},{}],game:[function(e,t,i){"use strict";cc._RF.push(t,"51dce3tvwlMQpQ2mkGlBL7H","game");var n=e("spriteList"),o=e("Business");cc.Class({extends:cc.Component,properties:{GiftPrefab:{default:null,type:cc.Prefab},bombPrefab:{default:null,type:cc.Prefab},gameOverPre:{default:null,type:cc.Prefab},Background:{default:null,type:cc.Node},StartLayer:{default:null,type:cc.Node},SpriteLayer:{default:null,type:cc.Node},BubbleLy:{default:null,type:cc.Node},Player:{default:null,type:cc.Node},PlayingLy:{default:null,type:cc.Node},FullGift:{default:null,type:cc.Node},CountDownLb:{default:null,type:cc.Label},ArrowRight:{default:null,type:cc.Animation},ArrowLeft:{default:null,type:cc.Animation},ReadyGoAudio:{default:null,type:cc.AudioClip},textLaber:{default:null,type:cc.Label}},onLoad:function(){this.enabled=!0,console.log("\u51c6\u5907"),console.log("\u6570\u636e\uff1a",n),cc.director.getPhysicsManager().enabled=!0,o.listenMessageAndResponse(this),cc.find("IconQuit",this.BubbleLy).active=!1,window.game&&Object.keys(window.game).length>0&&this.init(window.game)},init:function(e){console.log("\u521d\u59cb\u5316\u7ea2\u5305",e),this._timer=e.gameTime,cc.find("time/Label",this.PlayingLy).getComponent(cc.Label).string=this._timer+"",this.maxTime=this._timer,this.textLaber.string=JSON.stringify(e)},quit:function(){this.gameOver();var e=new cc.Event.EventCustom("gameOver_time",!1);this.node.dispatchEvent(e)},restart:function(){this.reset(),this.scheduleOnce(this.btnStart,0)},reset:function(){this.score=0,this.reserveList=null,this.reserveList=[],this.wave=0,this.waveTime=8,this.refreshTime=1.3,this.time=0,this.isWillEnd=!1,this.reverseTime=30,this.isStart=!1,this.enabled=!0,this._timer=this.maxTime,this.lastNum={times:0},cc.find("IconQuit",this.BubbleLy).active=!1,cc.find("IconRank",this.BubbleLy).active=!0,cc.find("IconPrize",this.BubbleLy).active=!0,cc.find("IconInfo",this.BubbleLy).active=!0,this.FullGift.getComponent(cc.Sprite).spriteFrame=null,this.Player.x=0,this.SpriteLayer.active=!1,this.PlayingLy.active=!1,this.StartLayer.active=!0;var e=this.Background.getChildByName("GameOver");for(cc.isValid(e)&&e.destroy();this.SpriteLayer.children.length>0;)this.SpriteLayer.children.splice(0,1);cc.find("time/Label",this.PlayingLy).getComponent(cc.Label).string=this._timer+"",cc.find("score/Label",this.PlayingLy).getComponent(cc.Label).string=this.score+"";var t=new cc.Event.EventCustom("gameOver_time",!1);this.node.dispatchEvent(t)},playerMove:function(e){this.Player.x=e.getLocationX()-this.SpriteLayer.width/2},btnStart:function(){var e=this,t=this;this.animationStart(),this.SpriteLayer.active=!0,this.PlayingLy.active=!0,cc.audioEngine.playEffect(this.ReadyGoAudio,!1),this.CountDownLb.string="Ready!";var i=!1;this.StartLayer.active=!1,cc.find("IconQuit",this.BubbleLy).active=!0,cc.find("IconRank",this.BubbleLy).active=!1,cc.find("IconPrize",this.BubbleLy).active=!1,cc.find("IconInfo",this.BubbleLy).active=!1,o.userBehaviorBuryingPoint({type:"be_play_game",comment:"\u63a5\u7ea2\u5305\u5c0f\u6e38\u620f",action:"\u73a9"},function(e,t){t&&console.log("\u63a5\u7ea2\u5305\u57cb\u70b9\u6210\u529f")}),o.getUserInfo(function(e){t.textLaber.string=JSON.stringify(e)});var s=cc.director.getScheduler();s.schedule(function o(){if(i)e.CountDownLb.string="",s.unschedule(o,t.node);else{e.CountDownLb.string="GO",e.isStart=!0;var c=e.PlayingLy.getChildByName("time").getChildByName("Label").getComponent(cc.Label),a=function t(){if(e._timer<=0)return s.unschedule(t,e.node),e.showGameOver(),void(e.isStart=!1);c.string=--e._timer};e.SpriteLayer.on(cc.Node.EventType.MOUSE_MOVE,e.playerMove,e),e.SpriteLayer.on(cc.Node.EventType.TOUCH_MOVE,e.playerMove,e),e._timer||(e._timer=60),s.schedule(a,e.node,1),e.addReserve(),e.schedule(e.addReserve,e.waveTime,n.length-2),i=!0,e.node.on("gameOver_time",function(e){s.unschedule(a,t.node),s.unschedule(t.addReserve,t)})}},this.node,1)},animationStart:function(){this.ArrowRight.getComponent(cc.Animation).play(),this.ArrowLeft.getComponent(cc.Animation).play()},addReserve:function(){var e=this;console.log("wave",this.reserveList,n[this.wave]),n[this.wave].forEach(function(t){for(var i=!1,n=0;n<e.reserveList.length;)e.reserveList[n].name==t.name&&(i=!0,e.reserveList[n].count+=t.count),n++;if(!i){var o=Object.assign({},t);e.reserveList.push(o)}});this.reserveList.forEach(function(e){e.count}),this.refreshTime>=.5&&(this.refreshTime-=.2),this.wave++,this.wave==n.length&&(this.isWillEnd=!0),console.log(this.reserveList)},getReserve:function(){if(this.reserveList.length>0){var e=Math.floor(Math.random()*this.reserveList.length),t=this.reserveList[e];this.getNewSprite(t),this.reserveList[e].count-=1,this.reserveList[e].count<=0&&this.reserveList.splice(e,1)}},getNewSprite:function(e){var t,i;0==e.name.indexOf("bomb")?i=(t=cc.instantiate(this.bombPrefab)).getComponent("bomb"):0==e.name.indexOf("redGift")&&(i=(t=cc.instantiate(this.GiftPrefab)).getComponent("redGift")),i.init(e),this.SpriteLayer.addChild(t),t.setPosition(this.getNewPosition()),i.game=this},getNewPosition:function(){var e,t=this.Background.height/2,i=this.node.width/2;return e=2*(Math.random()-.5)*i,cc.v2(e,t)},gainScore:function(e){this.score+=e;var t=this.PlayingLy.getChildByName("score").getChildByName("Label").getComponent(cc.Label),i=this.Player.getChildByName("score").getComponent(cc.Label);i.string=e>0?"+"+e:e,t.string=this.score;var n="";if(this.score>40&&this.score<70?n="FallingDown/little":this.score>70&&(n="FallingDown/full"),n){var o=this.FullGift.getComponent(cc.Sprite);cc.loader.loadRes(n,cc.SpriteFrame,function(e,t){o.spriteFrame=t})}this.scheduleOnce(function(){i.string=""},1)},start:function(){this.reset()},gameOver:function(){this.isStart=!1,this.enabled=!1,this.SpriteLayer.active=!1},update:function(e){if(this.isStart&&this.reserveList.length>0&&(this.time+=e,this.time>this.refreshTime)){this.time=0;var t=Math.floor(Math.random()*this.reserveList.length);if(this.lastNum.num&&t==this.lastNum.num)if(this.lastNum.times>=2){if(this.reserveList.length>=2)for(var i=!1;!i;){var n=Math.floor(Math.random()*this.reserveList.length);t!=n&&(i=!0,t=n,this.lastNum.num=t,this.lastNum.times=1)}}else this.lastNum.times++;else this.lastNum.num=t,this.lastNum.times=1;var o=this.reserveList[t];this.getNewSprite(o),this.reserveList[t].count-=1,this.reserveList[t].count<=0&&this.reserveList.splice(t,1)}},showGameOver:function(){var e=this,t=cc.instantiate(e.gameOverPre);t.setPosition(cc.v2(0,0)),e.Background.addChild(t),t.getComponent(cc.Animation).on("finished",function(t,i){e.gameOver(),o.postMessage({type:"game_over",gameScore:e.score})},t)}}),cc._RF.pop()},{Business:"Business",spriteList:"spriteList"}],luckRB_base:[function(e,t,i){"use strict";cc._RF.push(t,"0e6036ZzRxNjqqWGwHW5r8d","luckRB_base");var n=e("Business");cc.Class({extends:cc.Component,properties:{BoxBase:{default:null,type:cc.Node},BoxOne:{default:null,type:cc.Node},NeonLightAnim:{default:null,type:cc.Animation},Loading:{default:null,type:cc.Node},BoxPre:{default:null,type:cc.Prefab},BtnPre:{default:null,type:cc.Prefab},LabelNode:{default:null,type:cc.RichText}},onLoad:function(){var e=this;this.BoxBase.height=this.BoxBase.width;var t=this,i=void 0;this.Loading&&(i=this.Loading.getComponent(cc.Animation)).play(),n.listenMessageAndResponse(this),n.getPrizeSettings({},function(n,o){if(n)return cc.error(n.message||n);if(i&&(i.stop(),e.Loading.active=!1),t._activitySettings=o,t._activitySettings.theme="red",cc.log(o),t.setUIDetail(),t._activitySettings.prizeList.length>0){for(var s=[],c=0;c<t._activitySettings.prizeList.length;){var a=t._activitySettings.prizeList[c],r=Object.assign({},a);r.type=1,s.push(r),c++}if(console.log("list",s),s.length<8)for(t.j=0;s.length<8;){var l={type:2,prizeName:"fail"+t.j};t.j++,s.push(l)}t.gameInit(s)}})},init:function(){},setUIDetail:function(){var e=void 0;switch(this._activitySettings.status){case 0:e="\u6d3b\u52a8\u672a\u5f00\u59cb";break;case 1:e="<color=#ffffff>\u4eca\u65e5\u5269\u4f59\u62bd\u5956\u6b21\u6570</c><color=#fdd321>"+this._activitySettings.drawCount+"\u6b21</color>";break;case 2:e="\u6d3b\u52a8\u5df2\u7ed3\u675f"}this.LabelNode.string=e},gameInit:function(e){for(var t=0,i=function e(t){if(t instanceof Array){for(var i=[],n=0;n<t.length;++n)i[n]=e(t[n]);return i}if(t instanceof Object){i={};for(var n in t)i[n]=e(t[n]);return i}return t},n=i(e);n.length>0;){var o=Math.floor(Math.random()*n.length),s=cc.instantiate(this.BoxPre),c=s.getComponent("luckRB_box_base");c.num=t;var a=i(n[o]);if(c.init(a),this.BoxBase.addChild(s,0,"box"+t),3==t){var r=cc.instantiate(this.BtnPre);this.BoxBase.addChild(r);var l=new cc.Component.EventHandler;l.component="luckRB_base",l.handler="btnStart",l.target=this.node,this.btn=r.getComponent(cc.Button),this.btn.interactable=!1,this._activitySettings.drawCount>0&&1==this._activitySettings.status&&(this.btn.interactable=!0),this.btn.clickEvents[0]=l,console.log(r.getComponent(cc.Button))}else 0==t&&(this.BoxOne=s);n.splice(o,1),t++}var d=this.BoxBase.getChildByName("box0").getComponent("luckRB_box_base"),u=this.BoxBase.getChildByName("box1").getComponent("luckRB_box_base"),h=this.BoxBase.getChildByName("box2").getComponent("luckRB_box_base"),p=this.BoxBase.getChildByName("box3").getComponent("luckRB_box_base"),m=this.BoxBase.getChildByName("box4").getComponent("luckRB_box_base"),g=this.BoxBase.getChildByName("box5").getComponent("luckRB_box_base"),f=this.BoxBase.getChildByName("box6").getComponent("luckRB_box_base"),y=this.BoxBase.getChildByName("box7").getComponent("luckRB_box_base");d.nextBox=u,u.nextBox=h,h.nextBox=m,m.nextBox=y,y.nextBox=f,f.nextBox=g,g.nextBox=p,p.nextBox=d,d.game=this,u.game=this,h.game=this,m.game=this,y.game=this,f.game=this,g.game=this,p.game=this,console.log("children",this.BoxBase.children)},btnStart:function(){console.log("\u5f00\u59cb"),n.userBehaviorBuryingPoint({type:"be_draw_prize",comment:"\u4e5d\u5bab\u683c\u5c0f\u6e38\u620f",action:"\u62bd\u5956"},function(e){console.log("\u4e5d\u5bab\u683c\u57cb\u70b9\u6210\u529f")});var e=this;if(!this.isStart){if(this.lastBox)this.BoxBase.getChildByName(this.lastBox).getComponent("luckRB_box_base").reSet();e.isStart=!0,e.btn.interactable=!1,n.drawPrize({},function(t,i){if(t)return console.log(t),e.LabelNode.string=t.message,e.btn.interactable=!1,void n.postMessage({type:"draw_over",prize:i.data});e.LabelNode.string="<color=#ffffff>\u4eca\u65e5\u5269\u4f59\u62bd\u5956\u6b21\u6570</c><color=#fdd321>"+i.data.intervalDrawTime+"\u6b21</color>",console.log(i),e._prize=i;var o={time:.03,circle:4};if(200==i.data.code)o.identify=i.data.prizeName;else{var s=Math.floor(Math.random()*e.j);o.identify="fail"+s}if(i.data.intervalDrawTime<=0)return e.LabelNode.string="\u60a8\u6ca1\u6709\u62bd\u5956\u6b21\u6570\u4e86",e.btn.interactable=!1,void n.postMessage({type:"draw_over",prize:i.data});console.log("params",o),e.BoxOne.getComponent("luckRB_box_base").starton(o)})}},gameOver:function(e){console.log("params,",e),this.lastBox="box"+e.num,this.isStart=!1,this.btn.interactable=!0,console.log(this._prize.data),n.postMessage({type:"draw_over",prize:this._prize.data})},start:function(){this.isStart=!1}}),cc._RF.pop()},{Business:"Business"}],luckRB_box1:[function(e,t,i){"use strict";cc._RF.push(t,"b2fd9IQsvREJpF1N14lzttq","luckRB_box1"),cc.Class({extends:cc.Component,properties:{num:0,nextBox:{default:null,type:cc.Node},identify:"",imgWidth:110,imgHeight:80,diamondsPath:"LuckRotateBlock/LuckRotateBlock1/diamonds",giftPath:"LuckRotateBlock/LuckRotateBlock1/gift"},onLoad:function(){var e=this;cc.loader.loadRes("LuckRotateBlock/boxChoise",cc.SpriteFrame,function(t,i){e.choiseImg=i}),cc.loader.loadRes("LuckRotateBlock/boxNomal",cc.SpriteFrame,function(t,i){e.normalImg=i})},init:function(e){var t=this;this.identify=e.prizeName;var i=this.node.getComponent(cc.Layout);if(1==e.type){this.node.getChildByName("ThrankLb").destroy();var n=this.node.getChildByName("Img"),o=this.node.getChildByName("Label");if(console.log(e),e.score)cc.loader.load(e.score+"?t="+Date.now(),function(s,c){var a=1;n.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(c),c.height>t.imgHeight&&t.imgWidth/t.imgHeight>=c.width/c.height?a=t.imgHeight/c.height:c.width>t.imgWidth&&t.imgWidth/t.imgHeight<c.width/c.height&&(a=t.imgWidth/c.width),n.height=a*c.height,n.width=a*c.width,n.x=0,i.spacingY=(75-n.height)/2,console.log(i),o.getComponent(cc.Label).string=e.optionName});else{var s=Math.random()>.5?t.diamondsPath:t.giftPath;cc.loader.loadRes(s,cc.SpriteFrame,function(t,i){n.getComponent(cc.Sprite).spriteFrame=i,o.getComponent(cc.Label).string=e.optionName})}}else if(2==e.type){this.node.getChildByName("Img").destroy(),this.node.getChildByName("Label").destroy();var c=this.node.getChildByName("ThrankLb");this.scheduleOnce(function(){i.paddingBottom=(this.node.height-c.height)/2},0)}},starton:function(e){var t=this.node.getComponent(cc.Sprite);if(t.spriteFrame=this.choiseImg,0==this.num&&(e.circle<=0?(e.time+=this.speed,this.speed+=.02):e.circle-=1,this.game.animState.speed-=3),this.isLast&&(e.time+=.01,e.identify==this.identify))return this.isLast=!1,void this.game.gameOver({num:this.num});e.identify==this.identify&&e.time>=.2&&(this.isLast=!0);var i=this;this.scheduleOnce(function(){t.spriteFrame=i.normalImg,this.nextBox.getComponent("luckRB_box").starton(e)},e.time)},reSet:function(){this.node.getComponent(cc.Sprite).spriteFrame=this.normalImg},start:function(){this.speed=.02,this.isLast=!1}}),cc._RF.pop()},{}],luckRB_box3:[function(e,t,i){"use strict";cc._RF.push(t,"de403aBjP1CtoQiDZYIUui+","luckRB_box3"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],luckRB_box_base:[function(e,t,i){"use strict";cc._RF.push(t,"4bd2ejI0MBNYI0rko8a4cUz","luckRB_box_base"),cc.Class({extends:cc.Component,properties:{num:0,nextBox:{default:null,type:cc.Node},identify:"",imgWidth:110,imgHeight:80,speed:.02,diamondsPath:"",giftPath:"",boxNomalPath:"",boxChoisePath:""},onLoad:function(){var e=this;cc.loader.loadRes(this.boxChoisePath,cc.SpriteFrame,function(t,i){e.choiseImg=i}),cc.loader.loadRes(this.boxNomalPath,cc.SpriteFrame,function(t,i){e.normalImg=i,e.node.getComponent(cc.Sprite).spriteFrame=i})},init:function(e){var t=this;this.identify=e.prizeName;var i=this.node.getComponent(cc.Layout);if(1==e.type){this.node.getChildByName("ThrankLb").destroy();var n=this.node.getChildByName("Img"),o=this.node.getChildByName("Label");if(e.icon)cc.loader.load(e.icon+"?t="+Date.now(),function(s,c){var a=1;n.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(c),c.height>t.imgHeight&&t.imgWidth/t.imgHeight>=c.width/c.height?a=t.imgHeight/c.height:c.width>t.imgWidth&&t.imgWidth/t.imgHeight<c.width/c.height&&(a=t.imgWidth/c.width),n.height=a*c.height,n.width=a*c.width,n.x=0,i.spacingY=(75-n.height)/2,o.getComponent(cc.Label).string=e.optionName});else{var s=Math.random()>.5?t.diamondsPath:t.giftPath;cc.loader.loadRes(s,cc.SpriteFrame,function(t,i){n.getComponent(cc.Sprite).spriteFrame=i,o.getComponent(cc.Label).string=e.optionName})}}else if(2==e.type){this.node.getChildByName("Img").destroy(),this.node.getChildByName("Label").destroy();var c=this.node.getChildByName("ThrankLb");this.scheduleOnce(function(){i.paddingBottom=(this.node.height-c.height)/2},0)}},starton:function(e){var t=this.node.getComponent(cc.Sprite);if(t.spriteFrame=this.choiseImg,0==this.num&&(e.circle<=0?(e.time+=this.speed,this.speed+=.02):e.circle-=1),this.isLast&&(console.log("hahaha"),e.time+=.01,e.identify==this.identify))return this.isLast=!1,void this.game.gameOver({num:this.num});e.identify==this.identify&&e.time>=.2&&(this.isLast=!0);var i=this;this.scheduleOnce(function(){t.spriteFrame=i.normalImg,this.nextBox.getComponent("luckRB_box_base").starton(e)},e.time)},reSet:function(){this.node.getComponent(cc.Sprite).spriteFrame=this.normalImg},start:function(){this.isLast=!1}}),cc._RF.pop()},{}],luckRotateBlock1:[function(e,t,i){"use strict";cc._RF.push(t,"ccb9fw1zpRLvpK82tbcyrdn","luckRotateBlock1");var n=e("../luckRB_base");cc.Class({extends:n,properties:{},start:function(){}}),cc._RF.pop()},{"../luckRB_base":"luckRB_base"}],luckRotateBlock2:[function(e,t,i){"use strict";cc._RF.push(t,"9a90fkbOydDu6aWXjkJyiXl","luckRotateBlock2");var n=e("../luckRB_base");cc.Class({extends:n,properties:{},start:function(){}}),cc._RF.pop()},{"../luckRB_base":"luckRB_base"}],luckRotateBlock3:[function(e,t,i){"use strict";cc._RF.push(t,"694baX9lKVJIpz/oQ9fsbsZ","luckRotateBlock3");var n=e("Business");cc.Class({extends:cc.Component,properties:{BoxBase:{default:null,type:cc.Node},BoxOne:{default:null,type:cc.Node},NeonLightAnim:{default:null,type:cc.Animation},BoxPre:{default:null,type:cc.Prefab},btn:{default:null,type:cc.Button},LabelNode:{default:null,type:cc.RichText}},onLoad:function(){this.BoxBase.height=this.BoxBase.width;var e=this;n.listenMessageAndResponse(this),n.getPrizeSettings({},function(t,i){if(t)return cc.error(t.message||t);if(e._activitySettings=i,e._activitySettings.theme="red",cc.log(i),e.setUIDetail(),e._activitySettings.prizeList.length>0){for(var n=[],o=0;o<e._activitySettings.prizeList.length;){var s=e._activitySettings.prizeList[o],c=Object.assign({},s);c.type=1,n.push(c),o++}if(console.log("list",n),n.length<9)for(e.j=1;n.length<9;){var a={type:2,prizeName:"fail"+e.j};e.j++,n.push(a)}e.gameInit(n)}})},init:function(){},setUIDetail:function(){var e=void 0;switch(this._activitySettings.status){case 0:e="\u6d3b\u52a8\u672a\u5f00\u59cb";break;case 1:e="<color=#ffffff>\u4eca\u65e5\u5269\u4f59\u62bd\u5956\u6b21\u6570</c><color=#fdd321>"+this._activitySettings.drawCount+"\u6b21</color>";break;case 2:e="\u6d3b\u52a8\u5df2\u7ed3\u675f"}this.LabelNode.string=e},gameInit:function(e){for(var t=0,i=function e(t){if(t instanceof Array){for(var i=[],n=0;n<t.length;++n)i[n]=e(t[n]);return i}if(t instanceof Object){i={};for(var n in t)i[n]=e(t[n]);return i}return t},n=i(e);n.length>0;){var o=Math.floor(Math.random()*n.length),s=cc.instantiate(this.BoxPre),c=s.getComponent("luckRB_box_base");switch(c.num=t,t){case 0:case 2:case 6:case 8:c.boxNomalPath="LuckRotateBlock/LuckRotateBlock3/box1_nomal",c.boxChoisePath="LuckRotateBlock/LuckRotateBlock3/box1";break;case 3:case 4:case 5:case 7:case 1:c.boxNomalPath="LuckRotateBlock/LuckRotateBlock3/box2_nomal",c.boxChoisePath="LuckRotateBlock/LuckRotateBlock3/box2"}var a=i(n[o]);c.game=this,c.init(a),this.BoxBase.addChild(s,0,"box"+t),0==t&&(this.BoxOne=s),n.splice(o,1),t++}var r=this.BoxBase.getChildByName("box0").getComponent("luckRB_box_base"),l=this.BoxBase.getChildByName("box1").getComponent("luckRB_box_base"),d=this.BoxBase.getChildByName("box2").getComponent("luckRB_box_base"),u=this.BoxBase.getChildByName("box3").getComponent("luckRB_box_base"),h=this.BoxBase.getChildByName("box4").getComponent("luckRB_box_base"),p=this.BoxBase.getChildByName("box5").getComponent("luckRB_box_base"),m=this.BoxBase.getChildByName("box6").getComponent("luckRB_box_base"),g=this.BoxBase.getChildByName("box7").getComponent("luckRB_box_base"),f=this.BoxBase.getChildByName("box8").getComponent("luckRB_box_base");r.nextBox=l,l.nextBox=d,d.nextBox=u,u.nextBox=h,h.nextBox=p,p.nextBox=m,m.nextBox=g,g.nextBox=f,f.nextBox=r,console.log("children",this.BoxBase.children)},btnStart:function(){console.log("\u5f00\u59cb"),n.userBehaviorBuryingPoint({type:"be_draw_prize",comment:"\u4e5d\u5bab\u683c\u5c0f\u6e38\u620f",action:"\u62bd\u5956"},function(e,t){t&&console.log("\u4e5d\u5bab\u683c\u57cb\u70b9\u6210\u529f")});var e=this;if(!this.isStart){if(this.lastBox)this.BoxBase.getChildByName(this.lastBox).getComponent("luckRB_box_base").reSet();n.drawPrize({},function(t,i){if(t)return console.log(t),e.LabelNode.string=t.message,void n.postMessage({type:"draw_over",prize:i.data});e.LabelNode.string="<color=#ffffff>\u4eca\u65e5\u5269\u4f59\u62bd\u5956\u6b21\u6570</c><color=#fdd321>"+i.data.intervalDrawTime+"\u6b21</color>",console.log(i),e._prize=i;var o={time:.03,circle:4};if(200==i.data.code)o.identify=i.data.prizeName;else{var s=Math.ceil(Math.random()*(e.j-1));o.identify="fail"+s}if(i.data.intervalDrawTime<=0)return e.LabelNode.string="\u60a8\u6ca1\u6709\u62bd\u5956\u6b21\u6570\u4e86",void n.postMessage({type:"draw_over",prize:i.data});e.isStart=!0,e.btn.interactable=!1,console.log("params",o),e.BoxOne.getComponent("luckRB_box_base").starton(o)})}},gameOver:function(e){console.log("params,",e),this.lastBox="box"+e.num,this.isStart=!1,this.btn.interactable=!0,console.log(this._prize.data),n.postMessage({type:"draw_over",prize:this._prize.data})},start:function(){this.isStart=!1}}),cc._RF.pop()},{Business:"Business"}],luckRotateBlock4:[function(e,t,i){"use strict";cc._RF.push(t,"1940f5Wwd1B1KdtVfh0Sgfz","luckRotateBlock4");var n=e("Business");cc.Class({extends:cc.Component,properties:{LabelNode:{default:null,type:cc.Label},Box1:{default:null,type:cc.Node},Box2:{default:null,type:cc.Node},Box3:{default:null,type:cc.Node},Box4:{default:null,type:cc.Node},Box5:{default:null,type:cc.Node},Box6:{default:null,type:cc.Node},Box7:{default:null,type:cc.Node},Box8:{default:null,type:cc.Node},Box9:{default:null,type:cc.Node},Chiose:{default:null,type:cc.Node}},onLoad:function(){var e=this;this.Box1.on(cc.Node.EventType.TOUCH_START,this.chick,this),this.Box2.on(cc.Node.EventType.TOUCH_START,this.chick,this),this.Box3.on(cc.Node.EventType.TOUCH_START,this.chick,this),this.Box4.on(cc.Node.EventType.TOUCH_START,this.chick,this),this.Box5.on(cc.Node.EventType.TOUCH_START,this.chick,this),this.Box6.on(cc.Node.EventType.TOUCH_START,this.chick,this),this.Box7.on(cc.Node.EventType.TOUCH_START,this.chick,this),this.Box8.on(cc.Node.EventType.TOUCH_START,this.chick,this),this.Box9.on(cc.Node.EventType.TOUCH_START,this.chick,this),n.listenMessageAndResponse(this),n.getPrizeSettings({},function(t,i){e.LabelNode.string="\u60a8\u5269\u4f59\u62bd\u5956\u6b21\u6570\uff1a"+i.drawCount+"\u6b21"})},init:function(){},restart:function(){this.reset()},reset:function(){var e=this;this.isStart=!0,e.Chiose&&cc.loader.loadRes("LuckRotateBlock/LuckRotateBlock4/btnNomal",cc.SpriteFrame,function(t,i){e.Chiose.getComponent(cc.Sprite).spriteFrame=i})},chick:function(e){n.userBehaviorBuryingPoint({type:"be_draw_prize",comment:"\u4e5d\u5bab\u683c\u5c0f\u6e38\u620f",action:"\u62bd\u5956"},function(e,t){t&&console.log("\u4e5d\u5bab\u683c\u57cb\u70b9\u6210\u529f")});var t=this;this.isStart&&n.drawPrize({},function(i,o){i&&(console.log(i),t.LabelNode.string=i.message);t.LabelNode.string="\u60a8\u5269\u4f59\u62bd\u5956\u6b21\u6570\uff1a"+o.data.intervalDrawTime+"\u6b21";var s=e.currentTarget.getComponent(cc.Animation);s.play(),s.on("stop",function(){t.isStart=!1,n.postMessage({type:"draw_over",prize:o.data})},t),t.Chiose=e.currentTarget})},start:function(){this.isStart=!0}}),cc._RF.pop()},{Business:"Business"}],luckRotateBlock5:[function(e,t,i){"use strict";cc._RF.push(t,"3a496OWi+dDJ7/dGUTFZrc9","luckRotateBlock5");var n=e("../luckRB_base");cc.Class({extends:n,properties:{},start:function(){}}),cc._RF.pop()},{"../luckRB_base":"luckRB_base"}],player:[function(e,t,i){"use strict";cc._RF.push(t,"11382qVKptE14OdZZRdSMDu","player"),cc.Class({extends:cc.Component,properties:{scoreLb:{default:null,type:cc.Label},playerOn:{default:null,type:cc.Node}},mouseUp:function(e){this.node.x=e.getLocationX()},init:function(){this.node.x=0},start:function(){},update:function(e){this.playerOn.x=this.node.x}}),cc._RF.pop()},{}],pointer:[function(e,t,i){"use strict";cc._RF.push(t,"e76da68DMtFFYzTbhBA2vLT","pointer");var n=e("Business");cc.Class({extends:cc.Component,properties:{prizes:[cc.Label],pointer:{type:cc.Sprite,default:null},turntable:{type:cc.Node,default:null},count:{type:cc.Label,default:null},startBtn:{type:cc.Button,default:null},prizeNewData:{default:null},style:{type:cc.Integer,default:1},startAngle:{type:cc.Integer,default:360}},onLoad:function(){var e=this,t="/LuckyTurntable/gift-"+e.style;e.size=e.prizes.length,e.avgAngle=Math.round(1/e.size*1e3)/1e3,n.listenMessageAndResponse(this),n.getPrizeSettings({},function(i,n){if(i||!n)return console.error("\u83b7\u53d6\u62bd\u5956\u8bbe\u7f6e\u6570\u636e\u5931\u8d25");e.prizeData=n.prizeList;var o=e.startAngle/360;e.prizeData&&e.prizeData.length>0&&e.prizeData.forEach(function(i,n){if(!e.prizes[n])return!1;var s={};0!=n&&(o-=e.avgAngle),i.angle=o,s[i.optionName]=i,e.prizeNewData=Object.assign({},e.prizeNewData,s),e.prizes[n].string=i.optionName,i.icon?cc.loader.load(i.icon+"?t="+Date.now(),function(t,i){e.prizes[n].node.children[0].getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i)}):5!=e.style&&cc.loader.loadRes(t,cc.SpriteFrame,function(t,i){e.prizes[n].node.children[0].getComponent(cc.Sprite).spriteFrame=i})});var s=function(t){cc.loader.loadRes("/LuckyTurntable/Space",cc.SpriteFrame,function(i,n){e.prizes[t].node.children[0].getComponent(cc.Sprite).spriteFrame=n}),e.prizes[t].string="\u8c22\u8c22\u53c2\u4e0e"};if(e.prizeData.length<e.size)for(var c=0;c<e.size-e.prizeData.length;c++){s(c+e.prizeData.length)}e.count.string="\u60a8\u5269\u4f59\u62bd\u5956\u6b21\u6570\uff1a"+n.drawCount+"\u6b21",0==n.drawCount&&(e.startBtn.interactable=!1)}),n.listenMessage(this)},start:function(){},restart:function(){this.recovery()},reset:function(){this.recovery()},startRotate:function(e,t){n.userBehaviorBuryingPoint({type:"be_draw_prize",comment:"\u5e78\u8fd0\u5927\u8f6c\u76d8\u5c0f\u6e38\u620f",action:"\u62bd\u5956"},function(e,t){t&&console.log("\u5e78\u8fd0\u5927\u8f6c\u76d8\u57cb\u70b9\u6210\u529f")});var i=0;switch(t&&(i=t/360),this.style){case 4:this.tableRotation(i);break;default:this.pointerRotation(i)}},pointerRotation:function(e){var t=this;t.startBtn.interactable=!1,n.drawPrize({},function(i,o){if(i)return t.count.string=i.message,void n.postMessage({type:"draw_over",prize:o.data});if(o.status){var s=15+t.prizeNewData[o.data.optionName].angle+e,c=cc.rotateBy(8,360*s);t.pointer.node.runAction(c).easing(cc.easeCubicActionOut(8))}else{var a=Math.ceil(Math.random()*(t.size-t.prizeData.length)),r=15+(t.startAngle/360-(t.prizeData.length-1+a)*t.avgAngle)+e;c=cc.rotateBy(8,360*r);t.pointer.node.runAction(c).easing(cc.easeCubicActionOut(8))}t.count.string="\u60a8\u5269\u4f59\u62bd\u5956\u6b21\u6570\uff1a"+o.data.intervalDrawTime+"\u6b21",setTimeout(function(){n.postMessage({type:"draw_over",prize:o.data})},8500)})},tableRotation:function(e){var t=this;t.startBtn.interactable=!1,n.drawPrize({},function(i,o){if(i)return t.count.string=i.message,void n.postMessage({type:"draw_over",prize:o.data});if(o.status){var s=t.prizeNewData[o.data.optionName].angle+e,c=cc.rotateBy(8,360*(16-s));t.turntable.runAction(c).easing(cc.easeCubicActionOut(8))}else{var a=Math.ceil(Math.random()*(t.size-t.prizeData.length)),r=t.startAngle/360-(t.prizeData.length-1+a)*t.avgAngle+e;c=cc.rotateBy(8,360*(16-r));t.turntable.runAction(c).easing(cc.easeCubicActionOut(8))}t.count.string="\u60a8\u5269\u4f59\u62bd\u5956\u6b21\u6570\uff1a"+o.data.intervalDrawTime+"\u6b21",setTimeout(function(){n.postMessage({type:"draw_over",prize:o.data})},8500)})},recovery:function(){this.pointer&&this.pointer.node.runAction(cc.rotateTo(.1,0)),this.turntable&&this.turntable.runAction(cc.rotateTo(.1,0)),this.startBtn.interactable=!0}}),cc._RF.pop()},{Business:"Business"}],redGift:[function(e,t,i){"use strict";cc._RF.push(t,"d8755r5ccZC3ot8/qV7iIsS","redGift"),cc.Class({extends:cc.Component,properties:{score:0,scoreAudio:{default:null,type:cc.AudioClip}},init:function(e){this.node.width=e.size.width,this.node.height=e.size.height,e.rotation&&this.node.setRotation(e.rotation);var t=this.getComponent(cc.RigidBody);Math.random();t.gravityScale=e.gravityScale;for(var i=this.getComponent(cc.PhysicsPolygonCollider),n=0;n<i.points.length;){var o=i.points[n];o.x*=e.ratio,o.y*=e.ratio,n++}this.score=e.score},onBeginContact:function(e,t,i){var n=this.game.Player.width/2,o=this.game.Player.width/2;"Player"==i.node.name&&t.node.x<i.node.x+n&&t.node.x>i.node.x-o&&!this.isContact?(this.isContact=!0,cc.audioEngine.playEffect(this.scoreAudio,!1),t.node.destroy(),this.game.gainScore(this.score)):"Player"==i.node.name&&t.node.x>i.node.x+n?t.body.linearVelocity=cc.v2(500*Math.random(),100):"Player"==i.node.name&&t.node.x<i.node.x-o&&(t.body.linearVelocity=cc.v2(-500*Math.random(),100))},start:function(){this.isContact=!1},update:function(e){this.node.y<-this.game.Background.height/2-100&&this.node.destroy()}}),cc._RF.pop()},{}],redpack:[function(e,t,i){"use strict";cc._RF.push(t,"842e8SnvCJN9KNmbtwx6ODT","redpack");var n=e("Business");cc.Class({extends:cc.Component,properties:{count:{type:cc.Label,default:null},startBtn:{type:cc.Button,default:null},redPack:{type:cc.Sprite,default:null},btnNomal:"",btnDown:"",isActive:!1},onLoad:function(){var e=this;n.listenMessageAndResponse(this),cc.loader.loadRes(e.btnNomal,cc.SpriteFrame,function(t,i){e.btnNomalFrame=i}),cc.loader.loadRes(e.btnDown,cc.SpriteFrame,function(t,i){e.btnDownFrame=i}),n.getPrizeSettings({},function(t,i){if(t)return cc.error(t.message||t);0==i.drawCount&&(e.startBtn.interactable=!1),e.setUIDetail(i)})},start:function(){},setUIDetail:function(e){var t=void 0;switch(e.status){case 0:t="\u6d3b\u52a8\u672a\u5f00\u59cb";break;case 1:t="\u4eca\u65e5\u5269\u4f59\u62bd\u5956\u6b21\u6570 : "+e.drawCount+"\u6b21";break;case 2:t="\u6d3b\u52a8\u5df2\u7ed3\u675f"}this.count.string=t},restart:function(){this.reset()},reset:function(){this.startBtn.interactable=!0,this.redPack&&(this.redPack.node.getComponent(cc.Sprite).spriteFrame=this.btnNomalFrame),this.isActive&&(this.startBtn.node.active=!0)},startDraw:function(){n.userBehaviorBuryingPoint({type:"be_draw_prize",comment:"\u62c6\u7ea2\u5305\u5c0f\u6e38\u620f",action:"\u62bd\u5956"},function(e,t){t&&console.log("\u62c6\u7ea2\u5305\u57cb\u70b9\u6210\u529f")});var e=this;e.startBtn.interactable=!1,n.drawPrize({},function(t,i){t?n.postMessage({type:"draw_over",prize:i.data}):(e.isActive&&(e.startBtn.node.active=!1),e.redPack&&(e.redPack.node.getComponent(cc.Sprite).spriteFrame=e.btnDownFrame),e.count.string="\u60a8\u5269\u4f59\u62bd\u5956\u6b21\u6570\uff1a"+i.data.intervalDrawTime+"\u6b21",setTimeout(function(){n.postMessage({type:"draw_over",prize:i.data})},400))})}}),cc._RF.pop()},{Business:"Business"}],scratchCard:[function(e,t,i){"use strict";cc._RF.push(t,"10b3eLiwMdIYKUBJZnxBbRr","scratchCard");var n=e("Business");cc.Class({extends:cc.Component,properties:{rsultLabel:cc.Label,mask:cc.Node,promptLabel:cc.Label},onLoad:function(){var e=this;n.listenMessageAndResponse(this),n.getPrizeSettings({},function(t,i){if(t)return cc.error(t.message||t);e._activitySettings=i,e.setUIDetail()}),console.log(this.mask.getComponent(cc.Mask))},reset:function(){this.btnAgain()},restart:function(){this.btnAgain()},setUIDetail:function(){var e=void 0;switch(this._activitySettings.status){case 0:e="\u6d3b\u52a8\u672a\u5f00\u59cb";break;case 1:e="\u4eca\u65e5\u5269\u4f59\u62bd\u5956\u6b21\u6570"+this._activitySettings.drawCount+"\u6b21",this.addOn(),this.isLoad=!1;break;case 2:e="\u6d3b\u52a8\u5df2\u7ed3\u675f"}this.promptLabel.string=e},onDestroy:function(){this.destroyOn()},addOn:function(){this.monLy=this.mask.getChildByName("MongolianLayer"),this.node.on(cc.Node.EventType.TOUCH_START,this._onTouchBegin,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this._onTouchMoved,this),this.node.on(cc.Node.EventType.TOUCH_END,this._onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this._onTouchCancel,this)},destroyOn:function(){this.monLy.off(cc.Node.EventType.TOUCH_START,this._onTouchBegin,this),this.monLy.off(cc.Node.EventType.TOUCH_MOVE,this._onTouchMoved,this),this.monLy.off(cc.Node.EventType.TOUCH_END,this._onTouchEnd,this),this.monLy.off(cc.Node.EventType.TOUCH_CANCEL,this._onTouchCancel,this)},_onTouchBegin:function(e){var t=e.touch.getLocation();this._addCircle(t)},_onTouchMoved:function(e){var t=e.touch.getLocation();this._addCircle(t)},_onTouchEnd:function(e){var t=e.touch.getLocation();this._addCircle(t)},_onTouchCancel:function(e){var t=e.touch.getLocation();this._addCircle(t)},_addCircle:function(e){if(this.intervalDrawTime<=0)self.scheduleOnce(function(){n.postMessage({type:"draw_over",prize:{code:5}})},1);else{var t=this.monLy.width,i=this.monLy.height,o=this.monLy.convertToNodeSpaceAR(e);if(o.x<t/2-15&&o.x>-(t/2-15)&&o.y<i/2-15&&o.y>-(i/2-15)){this.drawPrize();var s=this.mask.getComponent(cc.Mask)._graphics,c=this.mask.convertToNodeSpaceAR(e);s.circle(c.x,c.y,30);var a=cc.Color.RED;a.a=100,s.fillColor=a,s.stroke(),s.fill()}}},drawPrize:function(){n.userBehaviorBuryingPoint({type:"be_draw_prize",comment:"\u522e\u522e\u5361\u5c0f\u6e38\u620f",action:"\u62bd\u5956"},function(e,t){t&&console.log("\u522e\u522e\u5361\u57cb\u70b9\u6210\u529f")});var e=this;this.isDraw||(this.isDraw=!0,n.drawPrize({},function(t,i){if(t&&console.log(t),e._prize=i,e.promptLabel.string="\u4eca\u65e5\u5269\u4f59\u62bd\u5956\u6b21\u6570"+i.data.intervalDrawTime+"\u6b21",e.intervalDrawTime=i.data.intervalDrawTime,e.scheduleOnce(function(){e.mask.getComponent(cc.Mask)._graphics.clear(),e.destroyOn(),e.mask.active=!1,e.node.getChildByName("BtnAgin").interactable=!0},1.5),200==i.data.code)e.rsultLabel.string=i.data.optionName,e.scheduleOnce(function(){n.postMessage({type:"draw_over",prize:i.data})},4);else if(6==i.data.code)e.rsultLabel.string=i.data.prizeName||t.message,e.scheduleOnce(function(){n.postMessage({type:"draw_over",prize:i.data})},4);else if(8==i.data.code){e.rsultLabel.string="\u5f88\u9057\u61be\uff0c\u60a8\u6ca1\u6709\u4e2d\u5956";var o=e.node.getChildByName("BtnAgin");o.active=!0,o.interactable=!1}else e.rsultLabel.string="\u5f88\u9057\u61be\uff0c\u60a8\u6ca1\u6709\u4e2d\u5956",e.scheduleOnce(function(){n.postMessage({type:"draw_over",prize:i.data})},4)}))},btnAgain:function(){this.mask.width=0,this.mask.height=0,this.isDraw=!1,this.mask.active=!0,this.node.getChildByName("BtnAgin").active=!1,this.addOn()},start:function(){}}),cc._RF.pop()},{Business:"Business"}],spriteList:[function(e,t,i){"use strict";cc._RF.push(t,"7d2f5Zs/aFJEp2Y6tF+d2Mn","spriteList"),t.exports=Object.freeze([[{name:"redGift1",score:3,ratio:.5,rotation:40,size:{width:"85.5",height:"72"},gravityScale:1,count:"4"},{name:"redGift2",score:4,ratio:.5,size:{width:"85.5",height:"72"},gravityScale:1.5,count:"3"}],[{name:"bomb1",score:-5,radius:37.1,size:{width:"93.8",height:"79.8"},gravityScale:2,count:"3"},{name:"redGift1",score:3,ratio:.5,rotation:40,size:{width:"85.5",height:"72"},gravityScale:1,count:"3"},{name:"redGift2",score:4,ratio:.5,size:{width:"85.5",height:"72"},gravityScale:1.5,count:"3"}],[{name:"bomb2",score:-7,gravityScale:3,count:"4"},{name:"redGift2",score:4,ratio:.5,size:{width:"85.5",height:"72"},gravityScale:1.5,count:"3"},{name:"redGift3",score:6,rotation:40,ratio:.7,size:{width:"119.7",height:"100.8"},gravityScale:2,count:"4"}],[{name:"bomb2",score:-7,gravityScale:3,count:"4"},{name:"redGift2",score:4,ratio:.5,size:{width:"85.5",height:"72"},gravityScale:1.5,count:"3"},{name:"redGift4",score:8,ratio:1,size:{width:"171",height:"144"},gravityScale:2,count:"3"}],[{name:"bomb2",score:-7,gravityScale:3,count:"100"},{name:"redGift2",score:4,ratio:.5,size:{width:"85.5",height:"72"},gravityScale:1.5,count:"100"},{name:"redGift4",score:8,ratio:1,size:{width:"171",height:"144"},gravityScale:2,count:"100"}]]),cc._RF.pop()},{}]},{},["Business","bomb","fruit","game","player","redGift","spriteList","fingerGuessing","fingue_choice","fingue_top","Bullet","Fish","FishingJoy","CustomerAction","GameOver","IconEvent","GoldenEggs","HitGoldenEggs","luckRB_box1","luckRotateBlock1","luckRotateBlock2","luckRB_box3","luckRotateBlock3","luckRotateBlock4","luckRotateBlock5","luckRB_base","luckRB_box_base","EggsContainerForce","LockyEggs","pointer","Element","MusicalGame","Song","scratchCard","Hammer","Mole","MoleGame","redpack","LayerResult","LayerSubscribe","Config","Request"]);