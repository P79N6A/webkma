__require=function t(e,i,o){function s(c,a){if(!i[c]){if(!e[c]){var h=c.split("/");if(h=h[h.length-1],!e[h]){var d="function"==typeof __require&&__require;if(!a&&d)return d(h,!0);if(n)return n(h,!0);throw new Error("Cannot find module '"+c+"'")}}var r=i[c]={exports:{}};e[c][0].call(r.exports,function(t){return s(e[c][1][t]||t)},r,r.exports,t,e,i,o)}return i[c].exports}for(var n="function"==typeof __require&&__require,c=0;c<o.length;c++)s(o[c]);return s}({EggsContainerForce:[function(t,e,i){"use strict";cc._RF.push(e,"e315cJv83NI2YLnVIiWJ2/0","EggsContainerForce"),cc.Class({extends:cc.Component,properties:{},start:function(){},onBeginContact:function(t,e,i){var o=Math.random()>.5?1:-1;i.body.linearVelocity=cc.v2(100*Math.random()*o,2800)}}),cc._RF.pop()},{}],HelloWorld:[function(t,e,i){"use strict";cc._RF.push(e,"280c3rsZJJKnZ9RqbALVwtK","HelloWorld"),cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label},text:"Hello, World!"},onLoad:function(){this.label.string=this.text},update:function(t){}}),cc._RF.pop()},{}],LockyEggs:[function(t,e,i){"use strict";cc._RF.push(e,"02ae88k3UdDRJg4r9sYDIRM","LockyEggs"),cc.Class({extends:cc.Component,properties:{egg:{default:null,type:cc.Prefab},running:{default:!1,type:cc.Boolean,visible:!1},eggs:{default:[],type:[cc.Node],visible:!1},containerNode:{default:null,type:cc.Node,visible:!1}},onLoad:function(){cc.director.getPhysicsManager().enabled=!0,this.containerNode=this.node.getChildByName("Background")},start:function(){for(var t=this.containerNode.getChildByName("EggsContainer"),e=0;e<18;){var i=cc.instantiate(this.egg);i.position=cc.v2(10*Math.random(),10*Math.random()),t.addChild(i),this.eggs.push(i),e++}},btnStart:function(t){var e=this,i=e.containerNode.getChildByName("EggsContainer").getChildByName("Force"),o=e.containerNode.getChildByName("Carrier").getChildByName("Prize");i.active=!0,setTimeout(function(){i.active=!1,setTimeout(function(){var t=o.getComponent(cc.Animation);t.on("finished",e.popupPrizeLayer,e),t.play()},500)},5e3)},popupPrizeLayer:function(){var t=this.containerNode.getChildByName("LayerContext");setTimeout(function(){t.active=!0,t.getComponent(cc.Animation).play()},500)},update:function(t){}}),cc._RF.pop()},{}],joystick_bar:[function(t,e,i){"use strict";cc._RF.push(e,"762a5XHgeBAbZjwnWK9VxN+","joystick_bar");var o=t("joystick_enums");cc.Class({extends:cc.Component,properties:{dot:{default:null,type:cc.Node,displayName:"\u6447\u6746\u8282\u70b9"},_joyCom:{default:null,displayName:"joy Node"},_playerNode:{default:null,displayName:"\u88ab\u64cd\u4f5c\u7684\u76ee\u6807Node"},_angle:{default:null,displayName:"\u5f53\u524d\u89e6\u6478\u7684\u89d2\u5ea6"},_radian:{default:null,displayName:"\u5f27\u5ea6"},_speed:0,_speed1:1,_speed2:2,_opacity:0},onLoad:function(){this._joyCom=this.node.parent.getComponent("joystick"),this._playerNode=this._joyCom.sprite,this._joyCom.touchType==o.TouchType.DEFAULT&&this._initTouchEvent()},_initTouchEvent:function(){this.node.on(cc.Node.EventType.TOUCH_START,this._touchStartEvent,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this._touchMoveEvent,this),this.node.on(cc.Node.EventType.TOUCH_END,this._touchEndEvent,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this._touchEndEvent,this)},update:function(t){switch(this._joyCom.directionType){case o.DirectionType.FOUR:this._fourDirectionsMove();break;case o.DirectionType.EIGHT:this._eightDirectionsMove();break;case o.DirectionType.ALL:this._allDirectionsMove()}},_fourDirectionsMove:function(){this._angle>45&&this._angle<135?this._playerNode.y+=this._speed:this._angle>-135&&this._angle<-45?this._playerNode.y-=this._speed:this._angle<-135&&this._angle>-180||this._angle>135&&this._angle<180?this._playerNode.x-=this._speed:(this._angle<0&&this._angle>-45||this._angle>0&&this._angle<45)&&(this._playerNode.x+=this._speed)},_eightDirectionsMove:function(){this._angle>67.5&&this._angle<112.5?this._playerNode.y+=this._speed:this._angle>-112.5&&this._angle<-67.5?this._playerNode.y-=this._speed:this._angle<-157.5&&this._angle>-180||this._angle>157.5&&this._angle<180?this._playerNode.x-=this._speed:this._angle<0&&this._angle>-22.5||this._angle>0&&this._angle<22.5?this._playerNode.x+=this._speed:this._angle>112.5&&this._angle<157.5?(this._playerNode.x-=this._speed/1.414,this._playerNode.y+=this._speed/1.414):this._angle>22.5&&this._angle<67.5?(this._playerNode.x+=this._speed/1.414,this._playerNode.y+=this._speed/1.414):this._angle>-157.5&&this._angle<-112.5?(this._playerNode.x-=this._speed/1.414,this._playerNode.y-=this._speed/1.414):this._angle>-67.5&&this._angle<-22.5&&(this._playerNode.x+=this._speed/1.414,this._playerNode.y-=this._speed/1.414)},_allDirectionsMove:function(){this._playerNode.x+=Math.cos(this._angle*(Math.PI/180))*this._speed,this._playerNode.y+=Math.sin(this._angle*(Math.PI/180))*this._speed},_getDistance:function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},_getRadian:function(t){return this._radian=Math.PI/180*this._getAngle(t),this._radian},_getAngle:function(t){var e=this.node.getPosition();return this._angle=Math.atan2(t.y-e.y,t.x-e.x)*(180/Math.PI),this._angle},_setSpeed:function(t){this._getDistance(t,this.node.getPosition())<this._radius?this._speed=this._speed1:this._speed=this._speed2},_touchStartEvent:function(t){var e=this.node.convertToNodeSpaceAR(t.getLocation()),i=this._getDistance(e,cc.v2(0,0)),o=this.node.width/2;this._stickPos=e;var s=this.node.getPosition().x+e.x,n=this.node.getPosition().y+e.y;return o>i&&(this.dot.setPosition(cc.v2(s,n)),!0)},_touchMoveEvent:function(t){var e=this.node.convertToNodeSpaceAR(t.getLocation()),i=this._getDistance(e,cc.v2(0,0)),o=this.node.width/2,s=this.node.getPosition().x+e.x,n=this.node.getPosition().y+e.y;if(o>i)this.dot.setPosition(cc.v2(s,n));else{var c=this.node.getPosition().x+Math.cos(this._getRadian(cc.v2(s,n)))*o,a=this.node.getPosition().y+Math.sin(this._getRadian(cc.v2(s,n)))*o;this.dot.setPosition(cc.v2(c,a))}this._getAngle(cc.v2(s,n)),this._setSpeed(cc.v2(s,n))},_touchEndEvent:function(){this.dot.setPosition(this.node.getPosition()),this._speed=0}}),cc._RF.pop()},{joystick_enums:"joystick_enums"}],joystick_enums:[function(t,e,i){"use strict";cc._RF.push(e,"550b7Obo/RL1oi3POe4Ht5+","joystick_enums"),e.exports={TouchType:cc.Enum({DEFAULT:0,FOLLOW:1}),DirectionType:cc.Enum({FOUR:4,EIGHT:8,ALL:0})},cc._RF.pop()},{}],joystick:[function(t,e,i){"use strict";cc._RF.push(e,"7f3cfiINfVDG72OLcwVqNGF","joystick");var o=t("joystick_enums"),s=t("joystick_bar");cc.Class({extends:cc.Component,properties:{dot:{default:null,type:cc.Node,displayName:"\u6447\u6746\u8282\u70b9"},ring:{default:null,type:s,displayName:"\u6447\u6746\u80cc\u666f\u8282\u70b9"},stickX:{default:0,displayName:"\u6447\u6746X\u4f4d\u7f6e"},stickY:{default:0,displayName:"\u6447\u6746Y\u4f4d\u7f6e"},touchType:{default:o.TouchType.DEFAULT,type:o.TouchType,displayName:"\u89e6\u6478\u7c7b\u578b"},directionType:{default:o.DirectionType.ALL,type:o.DirectionType,displayName:"\u65b9\u5411\u7c7b\u578b"},sprite:{default:null,type:cc.Node,displayName:"\u64cd\u63a7\u7684\u76ee\u6807"},_stickPos:{default:null,type:cc.Node,displayName:"\u6447\u6746\u5f53\u524d\u4f4d\u7f6e"},_touchLocation:{default:null,type:cc.Node,displayName:"\u6447\u6746\u5f53\u524d\u4f4d\u7f6e"}},onLoad:function(){this._createStickSprite(),this.touchType==o.TouchType.FOLLOW&&this._initTouchEvent()},_createStickSprite:function(){this.ring.node.setPosition(this.stickX,this.stickY),this.dot.setPosition(this.stickX,this.stickY)},_initTouchEvent:function(){this.node.on(cc.Node.EventType.TOUCH_START,this._touchStartEvent,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this._touchMoveEvent,this),this.node.on(cc.Node.EventType.TOUCH_END,this._touchEndEvent,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this._touchEndEvent,this)},_touchStartEvent:function(t){this._touchLocation=t.getLocation();var e=this.node.convertToNodeSpaceAR(t.getLocation());this.ring.node.setPosition(e),this.dot.setPosition(e),this._stickPos=e},_touchMoveEvent:function(t){if(this._touchLocation.x==t.getLocation().x&&this._touchLocation.y==t.getLocation().y)return!1;var e=this.ring.node.convertToNodeSpaceAR(t.getLocation()),i=this.ring._getDistance(e,cc.p(0,0)),o=this.ring.node.width/2,s=this._stickPos.x+e.x,n=this._stickPos.y+e.y;if(o>i)this.dot.setPosition(cc.p(s,n));else{var c=this._stickPos.x+Math.cos(this.ring._getRadian(cc.p(s,n)))*o,a=this._stickPos.y+Math.sin(this.ring._getRadian(cc.p(s,n)))*o;this.dot.setPosition(cc.p(c,a))}this.ring._getAngle(cc.p(s,n)),this.ring._setSpeed(cc.p(s,n))},_touchEndEvent:function(){this.dot.setPosition(this.ring.node.getPosition()),this.ring._speed=0}}),cc._RF.pop()},{joystick_bar:"joystick_bar",joystick_enums:"joystick_enums"}]},{},["EggsContainerForce","joystick","joystick_bar","joystick_enums","HelloWorld","LockyEggs"]);